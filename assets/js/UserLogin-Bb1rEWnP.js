import{m as V,n as x,o as k,p as q}from"./vendor-element-Dtgv3JhO.js";import{u as E,_ as U}from"./index-DLAd_3Dh.js";import{n as B,r as i,_ as N,o as R,y as g,S as o,Q as a,ae as S,b2 as C,b1 as F,q as I}from"./vendor-yvcakwI2.js";import{a as L}from"./login-DsRhSBL4.js";import{_ as T}from"./plugin-vue_export-helper-DlAUqK2U.js";const h={class:"login-page"},z={class:"login-box"},A=B({__name:"UserLogin",setup(M){const c=F(),d=C(),m=E(),p=i(),t=i({account:"admin",password:"123456"}),v=N({account:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),r=i(!1);async function b(){var n;await((n=p.value)==null?void 0:n.validate(e=>{r.value||e&&(r.value=!0,L(t.value).then(s=>{s.code===200&&_()}).catch(s=>{_()}).finally(()=>{r.value=!1}))}))}async function _(){m.setLogin({id:1,token:"Token-123456789",userName:"admin",avatar:""}),await m.getUserMenus(),d.query.redirect?c.replace(d.query.redirect):c.replace("/")}return(n,e)=>{const s=U,f=k,l=x,w=q,y=V;return I(),R("div",h,[g("div",z,[e[3]||(e[3]=g("h3",{class:"title"},"欢迎登录",-1)),o(y,{model:t.value,ref_key:"formRef",ref:p,rules:v,size:"large"},{default:a(()=>[o(l,{label:"",prop:"account"},{default:a(()=>[o(f,{modelValue:t.value.account,"onUpdate:modelValue":e[0]||(e[0]=u=>t.value.account=u),placeholder:"请输入账号/手机号/邮箱"},{prefix:a(()=>[o(s,{name:"user"})]),_:1},8,["modelValue"])]),_:1}),o(l,{label:"",prop:"password"},{default:a(()=>[o(f,{modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=u=>t.value.password=u),placeholder:"请输入密码",type:"password"},{prefix:a(()=>[o(s,{name:"lock"})]),_:1},8,["modelValue"])]),_:1}),o(l,null,{default:a(()=>[o(w,{class:"row-btn",type:"primary",loading:r.value,onClick:b},{default:a(()=>e[2]||(e[2]=[S(" 登 录 ",-1)])),_:1,__:[2]},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}}),H=T(A,[["__scopeId","data-v-9d9153cd"]]);export{H as default};
