const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./AppRouterView-CrckcDj9.js","./plugin-vue_export-helper-DlAUqK2U.js","./vendor-1TA-WTiO.js","./BaseComponent-BOioe8Pz.js","./vendor-element-BEVhuBaa.js","../css/vendor-element-ME6B_ewt.css","./vendor-quill-DWe3oWhs.js","../css/vendor-quill-DwXE-tNh.css","../css/BaseComponent-DGp7hMCO.css","./CustomDirective-Bj9Rc4ls.js","../css/CustomDirective-BPdTjY4a.css","./ButtonPermission-TOykA5CO.js","../css/ButtonPermission-CGRGUiky.css","./LargeFileUpload-B-3PecLp.js","../css/LargeFileUpload-BgdZVsRb.css","./MenuList-CRHSXNyV.js","../css/MenuList-BfL9zH_h.css","./MenuDetail-yYXP0Zbk.js","./AppLayout-DxMUs3N2.js","./login-BeKD2TWy.js","../css/AppLayout-B-djfgTc.css","./UserLogin-CaWrxSVU.js","../css/UserLogin-sZVbqYSa.css"])))=>i.map(i=>d[i]);
import{P as C,Q as O,u as A,ap as B,q as x,S,aZ as k,a_ as R,a$ as I,b0 as D,b1 as T,aE as j,n as $,c as q,o as N,y as U,b2 as K}from"./vendor-1TA-WTiO.js";import{z as F,E as W,a as Q}from"./vendor-element-BEVhuBaa.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();const X={__name:"App",setup(e){return(o,t)=>{const r=B("router-view"),n=W;return x(),C(n,{locale:A(F)},{default:O(()=>[S(r)]),_:1},8,["locale"])}}},Z="modulepreload",G=function(e,o){return new URL(e,o).href},P={},c=function(o,t,r){let n=Promise.resolve();if(t&&t.length>0){let V=function(l){return Promise.all(l.map(m=>Promise.resolve(m).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const s=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),w=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=V(t.map(l=>{if(l=G(l,r),l in P)return;P[l]=!0;const m=l.endsWith(".css"),h=m?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const p=s[f];if(p.href===l&&(!m||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${h}`))return;const u=document.createElement("link");if(u.rel=m?"stylesheet":Z,m||(u.as="script"),u.crossOrigin="",u.href=l,w&&u.setAttribute("nonce",w),document.head.appendChild(u),m)return new Promise((f,p)=>{u.addEventListener("load",f),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return n.then(s=>{for(const i of s||[])i.status==="rejected"&&a(i.reason);return o().catch(a)})};function J(e){const o={};function t(r){o[r.name||r.path]=r,Array.isArray(r.children)&&r.children.forEach(n=>t(n))}return e.forEach(r=>t(r)),o}function Y(e){let o;function t(r){r.children&&r.children.length>0?t(r.children[0]):o=r.path}return t(e[0]),o||"/login"}const ee=[{path:"/example",component:()=>c(()=>import("./AppRouterView-CrckcDj9.js"),__vite__mapDeps([0,1,2]),import.meta.url),meta:{title:"使用案例",icon:"document",visible:1,buttons:[],activePath:"",parentPath:""},children:[{path:"/example/base-component",component:()=>c(()=>import("./BaseComponent-BOioe8Pz.js"),__vite__mapDeps([3,4,2,5,6,7,1,8]),import.meta.url),meta:{title:"公共组件",icon:"",visible:1,buttons:[],activePath:"",parentPath:""}},{path:"/example/custom-directive",component:()=>c(()=>import("./CustomDirective-Bj9Rc4ls.js"),__vite__mapDeps([9,4,2,5,1,10]),import.meta.url),meta:{title:"自定义指令",icon:"",visible:1,buttons:[],activePath:"",parentPath:""}},{path:"/example/button-permission",component:()=>c(()=>import("./ButtonPermission-TOykA5CO.js"),__vite__mapDeps([11,4,2,5,1,12]),import.meta.url),meta:{title:"按钮权限",icon:"",visible:1,buttons:[{name:"add",title:"新增"},{name:"edit",title:"编辑"},{name:"delete",title:"删除"}],activePath:"",parentPath:""}},{path:"/example/large-file-upload",component:()=>c(()=>import("./LargeFileUpload-B-3PecLp.js"),__vite__mapDeps([13,4,2,5,14]),import.meta.url),meta:{title:"大文件上传",icon:"",visible:1,buttons:[],activePath:"",parentPath:""}}]}],te=[{path:"/system",component:()=>c(()=>import("./AppRouterView-CrckcDj9.js"),__vite__mapDeps([0,1,2]),import.meta.url),meta:{title:"系统设置",icon:"setting",visible:1,buttons:[],activePath:"",parentPath:""},children:[{path:"/system/menu",component:()=>c(()=>import("./MenuList-CRHSXNyV.js"),__vite__mapDeps([15,4,2,5,1,16]),import.meta.url),meta:{title:"菜单设置",icon:"",visible:1,buttons:[],activePath:"",parentPath:""}},{path:"/system/menu/:id(\\d+)",name:"system-menu-detail",component:()=>c(()=>import("./MenuDetail-yYXP0Zbk.js"),__vite__mapDeps([17,2,4,5]),import.meta.url),meta:{title:"菜单详情",icon:"",visible:0,buttons:[],activePath:"/system/menu",parentPath:"/system/menu"}}]}],z=[...ee,...te],g=k("store",{state:()=>({token:"",userInfo:{},userMenus:[]}),getters:{menuObj(e){return J(e.userMenus)},firstMenu(e){return e.userMenus.length<1?"/login":Y(e.userMenus)}},actions:{setLogin(e){const{token:o,...t}=e;this.token=o,this.userInfo=t},setLogout(){this.token="",this.userInfo={id:"",userName:"",avatar:""},this.userMenus=[]},getUserMenus(){return new Promise(e=>{setTimeout(()=>{this.userMenus=z,e(null)},100)})}},persist:{key:"store",storage:localStorage}});let v="";function _(){const e=new XMLHttpRequest;let o=`./version.json?t=${Date.now()}`;o=`././/version.json?t=${Date.now()}`,e.open("get",o,!0),e.onreadystatechange=function(){if(e.readyState==4&&e.status==200){const t=e.response;if(!v){v=t.version;return}v!=t.version&&(v=t.version,Q.alert("检测到版本有更新，请点击确定刷新页面","提示").then(()=>{location.reload()}))}},e.send()}function oe(){_(),setInterval(()=>{_()},3e5)}const re=[{path:"/",component:()=>c(()=>import("./AppLayout-DxMUs3N2.js"),__vite__mapDeps([18,4,2,5,19,20]),import.meta.url),children:[...z]},{path:"/login",component:()=>c(()=>import("./UserLogin-CaWrxSVU.js"),__vite__mapDeps([21,4,2,5,19,1,22]),import.meta.url)}],y=R({history:I(),routes:re,scrollBehavior(e,o){return e.hash?{el:e.hash,behavior:"smooth"}:{top:0}}});y.beforeEach((e,o)=>{const t=g(),r=["/","/login",...Object.keys(t.menuObj)];if(!t.token&&e.path!=="/login")return"/login";if(e.path=="/")return t.firstMenu;const n=e.name||e.path;if(!r.includes(n))return t.firstMenu});y.onError(e=>{console.error(e),_()});const H=D();H.use(T);const ne={mounted(e,o){let t=e,r=o.value;if(typeof o.value=="object"){const a=e.querySelector(o.value.scrollEl);if(!a)return;t=a,r=o.value.method}const n=j(()=>{const{scrollTop:a,scrollHeight:s,clientHeight:i}=t;a+i>=s-20&&typeof r=="function"&&r()},300);t.addEventListener("scroll",n)}},ae=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"})),E=Object.assign({"./modules/loadmore.ts":ae}),b={};for(const e in E){const o=e.replace(/(.*\/)*([^.]+).*/gi,"$2");b[o]=E[e].default}function ie(e){for(const o in b)e.directive(o,b[o])}const se=["width","height"],le=["xlink:href","fill"],ce=$({name:"SvgIcon",__name:"SvgIcon",props:{icon:{type:String,required:!0},size:{type:[String,Number],default:"1em"},color:{type:String,default:"currentColor"},prefix:{type:String,default:"icon"}},setup(e){const o=e,t=q(()=>`#${o.prefix}-${o.icon}`);return(r,n)=>(x(),N("svg",{class:"svg-icon","aria-hidden":"true",width:e.size,height:e.size},[U("use",{"xlink:href":t.value,rel:"external nofollow",fill:e.color},null,8,le)],8,se))}});if(typeof window<"u"){let e=function(){var o=document.body,t=document.getElementById("__svg_icon_dom__");t||(t=document.createElementNS("http://www.w3.org/2000/svg","svg"),t.style.position="absolute",t.style.width="0",t.style.height="0",t.id="__svg_icon_dom__",t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),t.innerHTML='<symbol  viewBox="0 0 1024 1024" id="icon-arrow-down"><path fill="currentColor" d="M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-arrow-left"><path fill="currentColor" d="M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-arrow-right"><path fill="currentColor" d="M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-arrow-up"><path fill="currentColor" d="m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-avatar-filled"><path fill="currentColor" d="M628.736 528.896A416 416 0 0 1 928 928H96a415.872 415.872 0 0 1 299.264-399.104L512 704zM720 304a208 208 0 1 1-416 0 208 208 0 0 1 416 0" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-delete"><path fill="currentColor" d="M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-document"><path fill="currentColor" d="M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-edit"><path fill="currentColor" d="M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z" /><path fill="currentColor" d="m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-expand"><path fill="currentColor" d="M128 192h768v128H128zm0 256h512v128H128zm0 256h768v128H128zm576-352 192 160-192 128z" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-fold"><path fill="currentColor" d="M896 192H128v128h768zm0 256H384v128h512zm0 256H128v128h768zM320 384 128 512l192 128z" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-house"><path fill="currentColor" d="M192 413.952V896h640V413.952L512 147.328zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-lock"><path fill="currentColor" d="M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96" /><path fill="currentColor" d="M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m192-160v-64a192 192 0 1 0-384 0v64zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-setting"><path fill="currentColor" d="M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357 357 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a352 352 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357 357 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294 294 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293 293 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294 294 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288 288 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293 293 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a288 288 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256" /></symbol><symbol  viewBox="0 0 1024 1024" id="icon-user"><path fill="currentColor" d="M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0" /></symbol>',o.insertBefore(t,o.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}const L=y.currentRoute;function ue(){const e=g();function o(t,r=L.value.name||L.value.path){var a,s;return!!(((s=(a=e.menuObj[r])==null?void 0:a.meta)==null?void 0:s.buttons)||[]).some(i=>i.name===t)}return{hasPermission:o}}oe();const d=K(X);d.config.errorHandler=(e,o,t)=>{console.error(e,o,t),_()};d.use(y);d.use(H);ie(d);d.component("svg-icon",ce);const{hasPermission:me}=ue();d.config.globalProperties.$hasPermission=me;const M=g();M.token&&M.getUserMenus();d.mount("#app");export{ce as _,ue as a,z as b,y as r,g as u};
