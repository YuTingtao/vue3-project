import{r as h,o as t,k as _,p as A,F as p,c as a,w as n,q as g,s as f,l as s,t as x,a as o,v as C,x as F,y as N,A as V,B as z,j as k,C as R,D as E,G as j,H as q,I as G,u as v,J as H,K as J,L as K,M as P}from"./vendor-6db90fbf.js";import{u as T}from"./index-12c65473.js";import{l as U}from"./login-44a4511a.js";const O={__name:"MenuItem",props:{menus:{type:Array,default:()=>[]}},setup(w){return(d,c)=>{const u=C,i=h("menu-item",!0),l=F,m=N;return t(!0),_(p,null,A(w.menus,e=>(t(),_(p,{key:e.name},[e.hidden?f("",!0):(t(),_(p,{key:0},[e.children&&e.children.filter(r=>!r.hidden).length?(t(),a(l,{key:0,index:e.path||e.redirect},{title:n(()=>[e.icon?(t(),a(u,{key:0},{default:n(()=>[(t(),a(g(e.icon)))]),_:2},1024)):f("",!0),s("span",null,x(e.title),1)]),default:n(()=>[o(i,{menus:e.children},null,8,["menus"])]),_:2},1032,["index"])):(t(),a(m,{key:1,index:e.path||e.redirect},{default:n(()=>[e.icon?(t(),a(u,{key:0},{default:n(()=>[(t(),a(g(e.icon)))]),_:2},1024)):f("",!0),s("span",null,x(e.title),1)]),_:2},1032,["index"]))],64))],64))),128)}}};const Q={class:"app-aside"},ee={__name:"Index",setup(w){const d=V();z();const c=T(),u=k(()=>c.userInfo),i=k(()=>c.userMenus),l=R(!1);function m(){l.value=!l.value}function e(){U.logout().then(r=>{c.setLogout(),d.replace("/login")}).catch(r=>{c.setLogout(),d.replace("/login")})}return(r,W)=>{const y=C,I=H,M=h("arrow-down"),D=J,b=K,B=j,L=P,S=q,$=h("router-view");return t(),_(p,null,[s("div",{class:"app-head",style:E(`left: ${l.value?"64px":"220px"};`)},[o(y,{class:"menu-collapse",onClick:m},{default:n(()=>[(t(),a(g(l.value?"Expand":"Fold")))]),_:1}),o(B,{trigger:"hover"},{dropdown:n(()=>[o(b,null,{default:n(()=>[o(D,{onClick:e},{default:n(()=>[G("退出")]),_:1})]),_:1})]),default:n(()=>[s("div",null,[o(I,{src:v(u).avatar,size:32,icon:"UserFilled",shape:"circle",fit:"cover"},null,8,["src"]),s("span",null,x(v(u).name),1),o(y,null,{default:n(()=>[o(M)]),_:1})])]),_:1})],4),s("div",Q,[o(S,null,{default:n(()=>[o(L,{collapse:l.value,router:"","default-active":r.$route.meta.activePath||r.$route.path,"text-color":"#fff","background-color":"#424548"},{default:n(()=>[o(O,{menus:v(i)},null,8,["menus"])]),_:1},8,["collapse","default-active"])]),_:1})]),s("div",{class:"app-main",style:E(`padding-left: ${l.value?"64px":"220px"};`)},[o($,{class:"app-view"})],4)],64)}}};export{ee as default};
