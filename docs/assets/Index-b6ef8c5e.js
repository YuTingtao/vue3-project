import{r as g,o as t,k as m,c as l,w as n,p as x,q as v,l as s,t as y,F as d,s as I,v as M,x as N,y as V,A as z,B as R,j as E,C as j,a as o,D as C,G as q,H as G,I as H,u as h,J,K,L as P,M as T}from"./vendor-a129447c.js";import{u as U}from"./index-675b180e.js";import{l as O}from"./login-f35774ef.js";const Q={__name:"MenuItem",props:{item:{type:Array,default:()=>{}}},setup(e){return(_,u)=>{const r=M,p=g("menu-item",!0),a=N,f=V;return e.item.hidden?v("",!0):(t(),m(d,{key:0},[e.item.children&&e.item.children.filter(c=>!c.hidden).length?(t(),l(a,{key:0,index:e.item.path||e.item.redirect},{title:n(()=>[e.item.icon?(t(),l(r,{key:0},{default:n(()=>[(t(),l(x(e.item.icon)))]),_:1})):v("",!0),s("span",null,y(e.item.title),1)]),default:n(()=>[(t(!0),m(d,null,I(e.item.children,c=>(t(),l(p,{key:c.name,item:c},null,8,["item"]))),128))]),_:1},8,["index"])):(t(),l(f,{key:1,index:e.item.path||e.item.redirect},{default:n(()=>[e.item.icon?(t(),l(r,{key:0},{default:n(()=>[(t(),l(x(e.item.icon)))]),_:1})):v("",!0),s("span",null,y(e.item.title),1)]),_:1},8,["index"]))],64))}}};const W={class:"app-aside"},te={__name:"Index",setup(e){const _=z();R();const u=U(),r=E(()=>u.userInfo),p=E(()=>u.userMenus),a=j(!1);function f(){a.value=!a.value}function c(){O.logout().then(i=>{u.setLogout(),_.replace("/login")}).catch(i=>{u.setLogout(),_.replace("/login")})}return(i,X)=>{const w=M,D=J,b=g("arrow-down"),B=K,L=P,S=q,$=T,A=G,F=g("router-view");return t(),m(d,null,[s("div",{class:"app-head",style:C(`left: ${a.value?"64px":"220px"};`)},[o(w,{class:"menu-collapse",onClick:f},{default:n(()=>[(t(),l(x(a.value?"Expand":"Fold")))]),_:1}),o(S,{trigger:"hover"},{dropdown:n(()=>[o(L,null,{default:n(()=>[o(B,{onClick:c},{default:n(()=>[H("退出")]),_:1})]),_:1})]),default:n(()=>[s("div",null,[o(D,{src:h(r).avatar,size:32,icon:"UserFilled",shape:"circle",fit:"cover"},null,8,["src"]),s("span",null,y(h(r).name),1),o(w,null,{default:n(()=>[o(b)]),_:1})])]),_:1})],4),s("div",W,[o(A,null,{default:n(()=>[o($,{collapse:a.value,router:"","default-active":i.$route.meta.activePath||i.$route.path,"text-color":"#fff","background-color":"#424548"},{default:n(()=>[(t(!0),m(d,null,I(h(p),k=>(t(),l(Q,{key:k.name,item:k},null,8,["item"]))),128))]),_:1},8,["collapse","default-active"])]),_:1})]),s("div",{class:"app-main",style:C(`padding-left: ${a.value?"64px":"220px"};`)},[o(F,{class:"app-view"})],4)],64)}}};export{te as default};
