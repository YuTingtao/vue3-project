import{A as h,B as x,C as _,Z as y,o as V,k,l as f,a as e,w as a,_ as I,I as N,R as B,S as E,$ as L,a0 as R,P as S}from"./vendor-6db90fbf.js";import{u as q}from"./index-5ca6fe4f.js";import{l as F}from"./login-54e4ffba.js";import{_ as C}from"./plugin-vue_export-helper-c27b6911.js";const U=s=>(B("data-v-a00f1c99"),s=s(),E(),s),A={class:"login-bg"},T={class:"login-box"},z=U(()=>f("h3",{class:"title"},"登录系统",-1)),M={__name:"Login",setup(s){const u=h(),c=x(),i=q(),r=_(),o=_({userName:"admin",password:"123456"}),g=y({userName:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]});async function v(){r.value&&await r.value.validate(p=>{p&&F.login(o.value).then(()=>{d()}).catch(()=>{d()})})}function d(){i.setLogin({token:"Token-123456789",userInfo:{name:"admin",avatar:""}}),i.getUserMenus(),c.query.redirect?u.replace(c.query.redirect):u.replace("/")}return(p,t)=>{const m=L,l=R,w=S,b=I;return V(),k("div",A,[f("div",T,[z,e(b,{model:o.value,ref_key:"formRef",ref:r,rules:g,size:"large"},{default:a(()=>[e(l,{label:"",prop:"userName"},{default:a(()=>[e(m,{modelValue:o.value.userName,"onUpdate:modelValue":t[0]||(t[0]=n=>o.value.userName=n),placeholder:"请输入账号/手机号/邮箱","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),e(l,{label:"",prop:"password"},{default:a(()=>[e(m,{modelValue:o.value.password,"onUpdate:modelValue":t[1]||(t[1]=n=>o.value.password=n),placeholder:"请输入密码",type:"password","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),e(l,null,{default:a(()=>[e(w,{class:"row-btn",type:"primary",onClick:v},{default:a(()=>[N("登 录")]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}}},D=C(M,[["__scopeId","data-v-a00f1c99"]]);export{D as default};
