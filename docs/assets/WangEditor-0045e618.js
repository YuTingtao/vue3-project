import{C as s,U as H,V as E,W as k,o as h,k as y,a as u,u as i,X as w,Y as R,A as b,B as N,Z as S,l as x,t as U,w as g,b as L,Q as M,I as _}from"./vendor-f3401b40.js";import{u as O}from"./index-a5058fbc.js";const $={class:"wang-editor"},A={__name:"BaseEditor",props:{modelValue:{Type:String,default:""},placeholder:{Type:String,default:"请输入内容..."},maxLength:{Type:Number,default:null},mode:{Type:String,default:"simple"}},emits:["update:modelValue"],setup(m,{expose:l,emit:a}){const n=m,r=s(n.modelValue);H(()=>n.modelValue,e=>{r.value=e});const t=E(),v=s({modalAppendToBody:!0}),c=s({placeholder:n.placeholder,maxLength:n.maxLength,autoFocus:!1,MENU_CONF:{uploadImage:{server:"/api/upload"},uploadVideo:{server:"/api/upload"}}});k(()=>{const e=t.value;e!=null&&e.destroy()});function p(e){t.value=e}function d(e){a("update:modelValue",e.getHtml())}function f(){const e=t.value;if(e!=null)return e.getHtml()}function C(){const e=t.value;if(e!=null)return e.getText()}function T(e){const o=t.value;o!=null&&o.setHtml(e)}function V(e){const o=t.value;o!=null&&o.insertText(e)}return l({getHtml:f,setHtml:T,getText:C,insertText:V}),(e,o)=>(h(),y("div",$,[u(i(w),{editor:i(t),defaultConfig:v.value,mode:m.mode},null,8,["editor","defaultConfig","mode"]),u(i(R),{style:{"overflow-y":"hidden"},modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=B=>r.value=B),defaultConfig:c.value,mode:m.mode,onOnCreated:p,onOnChange:d},null,8,["modelValue","defaultConfig","mode"])]))}},D={class:"page-editor"},F={style:{margin:"10px 0"}},Q={__name:"WangEditor",setup(m){b(),N(),O();const l=s();let a=s("<p>老王编辑器</p>");function n(){l.value.setHtml(`<p>当前时间戳：${Date.now()}</p>`)}function r(){L.alert(l.value.getHtml(),"富文本",{confirmButtonText:"确定"})}function t(){l.value.insertText(`纯文本${Math.random()}`)}return(v,c)=>{const p=A,d=M;return h(),y("div",D,[u(p,{ref_key:"editorRef",ref:l,modelValue:i(a),"onUpdate:modelValue":c[0]||(c[0]=f=>S(a)?a.value=f:a=f),maxLength:1e3},null,8,["modelValue"]),x("div",F,U(i(a)),1),x("div",null,[u(d,{type:"primary",onClick:n},{default:g(()=>[_("设置富文本")]),_:1}),u(d,{type:"primary",onClick:r},{default:g(()=>[_("获取富文本")]),_:1}),u(d,{type:"primary",onClick:t},{default:g(()=>[_("插入纯文本")]),_:1})])])}}};export{Q as default};
