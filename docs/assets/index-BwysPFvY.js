import{d as R,n as k,r as w,o as u,j as v,c,w as l,a as r,p as b,k as i,t as y,F as x,q as C,s as M,v as j,x as z,y as $,A as O,B as q,C as P,D as T,G as U,h as B,H as I,u as g,I as G,J as H,K as J,L as K,M as Q,N as W,O as X,P as Y,Q as Z}from"./vender-SVA87YeA.js";import{_ as ee,u as te}from"./index-AHs4cvQ0.js";import{l as ne}from"./index-D7tFf34m.js";const ae=""+new URL("logo-7oke29fp.png",import.meta.url).href,oe=R("appStore",{state:()=>({menu:{isExpand:!0}}),getters:{},actions:{},persist:{enabled:!0,strategies:[{key:"appStore",storage:localStorage}]}}),le={__name:"MenuItem",props:{item:{type:Object,default:()=>{}}},setup(e){const h=k();function m(n){h.push(n)}return(n,d)=>{const f=ee,_=M,s=w("MenuItem",!0),a=j,t=z;return e.item.meta.visible?(u(),v(x,{key:0},[e.item.children&&e.item.children.filter(o=>o.meta.visible).length>0?(u(),c(a,{key:0,index:e.item.path||e.item.meta.title},{title:l(()=>[e.item.meta.icon?(u(),c(_,{key:0},{default:l(()=>[r(f,{name:e.item.meta.icon},null,8,["name"])]),_:1})):b("",!0),i("span",null,y(e.item.meta.title),1)]),default:l(()=>[(u(!0),v(x,null,C(e.item.children,o=>(u(),c(s,{key:o.path,item:o},null,8,["item"]))),128))]),_:1},8,["index"])):(u(),c(t,{key:1,index:e.item.path,onClick:d[0]||(d[0]=o=>m(e.item.path))},{default:l(()=>[e.item.meta.icon?(u(),c(_,{key:0},{default:l(()=>[r(f,{name:e.item.meta.icon},null,8,["name"])]),_:1})):b("",!0),i("span",null,y(e.item.meta.title),1)]),_:1},8,["index"]))],64)):b("",!0)}}},se={__name:"BreadCrumb",setup(e){const h=k(),m=$(),n=O([]),d=h.getRoutes();function f(){n.value=[];let s=m.matched;if(s[0].name=="layout"&&(s=s.slice(1)),s.length>0)for(let a=s.length-1;a>=0;a--){const t=s[a];let o=t.path;(a==s.length-1||t.meta.type==0)&&(o=""),n.value.unshift({path:o,title:t.meta.title});const p=t.meta.parentPath||"";p&&n.value.unshift(..._(p))}}function _(s,a=[]){const t=d.find(o=>o.path==s);return t&&a.unshift({path:t.meta.type==0?"":t.path,title:t.meta.title}),t.meta.parentPath?_(t.meta.parentPath,a):a}return q(()=>m.path,()=>{f()},{immediate:!0}),(s,a)=>{const t=T,o=U;return u(),c(o,null,{default:l(()=>[(u(!0),v(x,null,C(n.value,(p,E)=>(u(),c(t,{key:p.path+E,to:p.path},{default:l(()=>[P(y(p.title),1)]),_:2},1032,["to"]))),128))]),_:1})}}},ue={class:"app-aside"},re=i("img",{class:"app-logo-img",src:ae,alt:""},null,-1),ie=i("span",null,"Vue3管理后台",-1),ce=[re,ie],me=G({name:"Layout"}),fe=Object.assign(me,{setup(e){const h=k();$();const m=te(),n=oe(),d=B(()=>m.userInfo),f=B(()=>m.userMenus);function _(){n.menu.isExpand=!n.menu.isExpand}function s(){ne.logout().finally(()=>{m.setLogout(),h.push("/login")})}return(a,t)=>{const o=M,p=W,E=w("arrow-down"),D=X,L=Y,N=H,V=Z,A=J,F=w("router-view");return u(),v(x,null,[i("div",{class:"app-head",style:I(`left: ${g(n).menu.isExpand?"210px":"64px"};`)},[r(o,{class:"menu-collapse",onClick:_},{default:l(()=>[(u(),c(K(g(n).menu.isExpand?"Fold":"Expand")))]),_:1}),r(se),r(N,{trigger:"hover"},{dropdown:l(()=>[r(L,null,{default:l(()=>[r(D,{onClick:s},{default:l(()=>[P("退出")]),_:1})]),_:1})]),default:l(()=>[i("div",null,[r(p,{src:d.value.avatar,size:32,icon:"UserFilled",shape:"circle",fit:"cover"},null,8,["src"]),i("span",null,y(d.value.name),1),r(o,null,{default:l(()=>[r(E)]),_:1})])]),_:1})],4),i("div",ue,[r(A,null,{default:l(()=>[i("div",{class:Q(["app-logo",g(n).menu.isExpand?"":"collapsed"])},ce,2),r(V,{collapse:!g(n).menu.isExpand,"unique-opened":!0,"default-active":a.$route.meta.activePath||a.$route.path||a.$route.name},{default:l(()=>[(u(!0),v(x,null,C(f.value,S=>(u(),c(le,{key:S.path,item:S},null,8,["item"]))),128))]),_:1},8,["collapse","default-active"])]),_:1})]),i("div",{class:"app-main",style:I(`padding-left: ${g(n).menu.isExpand?"210px":"64px"};`)},[r(F,{class:"app-view"})],4)],64)}}});export{fe as default};
