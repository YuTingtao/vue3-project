import{d as F,n as k,r as w,o as u,j as v,c as m,w as l,a as r,p as b,k as i,t as y,F as x,q as C,s as M,v as j,x as z,y as $,A as O,B as q,C as P,D as T,G as U,h as B,H as I,u as g,I as G,J as H,K as J,L as K,N as Q,O as W,P as X,Q as Y,R as Z}from"./vender-DDlItSG0.js";import{_ as ee,u as te}from"./index-CeGbl9Zf.js";import{l as ne}from"./index-BCRolcqP.js";const ae=""+new URL("logo-7oke29fp.png",import.meta.url).href,oe=F("appStore",{state:()=>({menu:{isExpand:!0}}),getters:{},actions:{},persist:{enabled:!0,strategies:[{key:"appStore",storage:localStorage}]}}),le={__name:"MenuItem",props:{item:{type:Object,default:()=>{}}},setup(t){const h=k();function c(n){h.push(n)}return(n,d)=>{const f=ee,_=M,s=w("MenuItem",!0),a=j,e=z;return t.item.meta.visible?(u(),v(x,{key:0},[t.item.children&&t.item.children.filter(o=>o.meta.visible).length>0?(u(),m(a,{key:0,index:t.item.path||t.item.meta.title},{title:l(()=>[t.item.meta.icon?(u(),m(_,{key:0},{default:l(()=>[r(f,{name:t.item.meta.icon},null,8,["name"])]),_:1})):b("",!0),i("span",null,y(t.item.meta.title),1)]),default:l(()=>[(u(!0),v(x,null,C(t.item.children,o=>(u(),m(s,{key:o.path,item:o},null,8,["item"]))),128))]),_:1},8,["index"])):(u(),m(e,{key:1,index:t.item.path,onClick:d[0]||(d[0]=o=>c(t.item.path))},{default:l(()=>[t.item.meta.icon?(u(),m(_,{key:0},{default:l(()=>[r(f,{name:t.item.meta.icon},null,8,["name"])]),_:1})):b("",!0),i("span",null,y(t.item.meta.title),1)]),_:1},8,["index"]))],64)):b("",!0)}}},se={__name:"BreadCrumb",setup(t){const h=k(),c=$(),n=O([]),d=h.getRoutes();function f(){n.value=[];let s=c.matched;if(s[0].name=="layout"&&(s=s.slice(1)),s.length>0)for(let a=s.length-1;a>=0;a--){const e=s[a];let o=e.path;(a==s.length-1||e.meta.type==0)&&(o=""),n.value.unshift({path:o,title:e.meta.title});const p=e.meta.parentPath||"";p&&n.value.unshift(..._(p))}}function _(s,a=[]){const e=d.find(o=>o.path==s);return e&&a.unshift({path:e.meta.type==0?"":e.path,title:e.meta.title}),e.meta.parentPath?_(e.meta.parentPath,a):a}return q(()=>c.path,()=>{f()},{immediate:!0}),(s,a)=>{const e=T,o=U;return u(),m(o,null,{default:l(()=>[(u(!0),v(x,null,C(n.value,(p,E)=>(u(),m(e,{key:p.path+E,to:p.path},{default:l(()=>[P(y(p.title),1)]),_:2},1032,["to"]))),128))]),_:1})}}},ue={class:"app-aside"},re=G({name:"Layout"}),pe=Object.assign(re,{setup(t){const h=k();$();const c=te(),n=oe(),d=B(()=>c.userInfo),f=B(()=>c.userMenus);function _(){n.menu.isExpand=!n.menu.isExpand}function s(){ne.logout().finally(()=>{c.setLogout(),h.push("/login")})}return(a,e)=>{const o=M,p=W,E=w("arrow-down"),D=X,L=Y,N=H,R=Z,V=J,A=w("router-view");return u(),v(x,null,[i("div",{class:"app-head",style:I(`left: ${g(n).menu.isExpand?"210px":"64px"};`)},[r(o,{class:"menu-collapse",onClick:_},{default:l(()=>[(u(),m(K(g(n).menu.isExpand?"Fold":"Expand")))]),_:1}),r(se),r(N,{trigger:"hover"},{dropdown:l(()=>[r(L,null,{default:l(()=>[r(D,{onClick:s},{default:l(()=>e[0]||(e[0]=[P("退出")])),_:1})]),_:1})]),default:l(()=>[i("div",null,[r(p,{src:d.value.avatar,size:32,icon:"UserFilled",shape:"circle",fit:"cover"},null,8,["src"]),i("span",null,y(d.value.name),1),r(o,null,{default:l(()=>[r(E)]),_:1})])]),_:1})],4),i("div",ue,[r(V,null,{default:l(()=>[i("div",{class:Q(["app-logo",g(n).menu.isExpand?"":"collapsed"])},e[1]||(e[1]=[i("img",{class:"app-logo-img",src:ae,alt:""},null,-1),i("span",null,"Vue3管理后台",-1)]),2),r(R,{collapse:!g(n).menu.isExpand,"unique-opened":!0,"default-active":a.$route.meta.activePath||a.$route.path||a.$route.name},{default:l(()=>[(u(!0),v(x,null,C(f.value,S=>(u(),m(le,{key:S.path,item:S},null,8,["item"]))),128))]),_:1},8,["collapse","default-active"])]),_:1})]),i("div",{class:"app-main",style:I(`padding-left: ${g(n).menu.isExpand?"210px":"64px"};`)},[r(A,{class:"app-view"})],4)],64)}}});export{pe as default};
