import{m as V,n as h,o as y,p as I}from"./element-plus-CwR5xvPY.js";import{u as N,b as k}from"./vue-router-a6fLCUut.js";import{u as q}from"./index-C8QVbYSE.js";import{l as E}from"./index-B1q-dQrM.js";import{_ as S}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as i,I as B,o as F,c as R,a as g,M as e,Q as r,d as U,U as C,aq as L,ar as M}from"./@vue-u-uJWz1X.js";import"./lodash-es-CscGKdwc.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-BHnBbFPh.js";import"./@element-plus-Tb5X1IHT.js";import"./@ctrl-r5W6hzzQ.js";import"./@popperjs-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-BRKjGfEc.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./lazysizes-DIA6Q0hx.js";import"./axios-B4uVmeYG.js";const T=s=>(L("data-v-047c1deb"),s=s(),M(),s),j={class:"login-page"},z={class:"login-box"},A=T(()=>g("h3",{class:"title"},"欢迎登录",-1)),O=U({name:"Login"}),Q=Object.assign(O,{setup(s){const m=N(),p=k(),c=q(),d=i(),o=i({userName:"admin",password:"123456"}),v=B({userName:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),a=i(!1);async function b(){var l;await((l=d.value)==null?void 0:l.validate(t=>{a.value||t&&(a.value=!0,E.login(o.value).then(()=>{a.value=!1,_()}).catch(()=>{a.value=!1,_()}))}))}async function _(){c.setLogin({token:"Token-123456789",userInfo:{name:"admin",avatar:""}}),await c.getUserMenus(),p.query.redirect?m.replace(p.query.redirect):m.replace("/")}return(l,t)=>{const f=h,n=y,w=I,x=V;return F(),R("div",j,[g("div",z,[A,e(x,{model:o.value,ref_key:"formRef",ref:d,rules:v,size:"large"},{default:r(()=>[e(n,{label:"",prop:"userName"},{default:r(()=>[e(f,{modelValue:o.value.userName,"onUpdate:modelValue":t[0]||(t[0]=u=>o.value.userName=u),placeholder:"请输入账号/手机号/邮箱","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),e(n,{label:"",prop:"password"},{default:r(()=>[e(f,{modelValue:o.value.password,"onUpdate:modelValue":t[1]||(t[1]=u=>o.value.password=u),placeholder:"请输入密码",type:"password","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),e(n,null,{default:r(()=>[e(w,{class:"row-btn",type:"primary",loading:a.value,onClick:b},{default:r(()=>[C("登 录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}}),le=S(Q,[["__scopeId","data-v-047c1deb"]]);export{le as default};
