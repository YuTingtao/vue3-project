import{n as x,y,A as c,S as h,o as k,j as I,k as g,a as e,w as t,I as N,T as S,C as E,U as q,V as B,W as C,X as R,Y as U}from"./vender-BLUSGQmC.js";import{u as F}from"./index-CeqD2Jw4.js";import{l as T}from"./index-OHCBJN1U.js";import{_ as j}from"./plugin-vue_export-helper-DlAUqK2U.js";const A=r=>(q("data-v-9d100416"),r=r(),B(),r),L={class:"login-page"},z={class:"login-box"},M=A(()=>g("h3",{class:"title"},"欢迎登录",-1)),O=N({name:"Login"}),W=Object.assign(O,{setup(r){const d=x(),p=y(),m=F(),_=c(),o=c({userName:"admin",password:"123456"}),v=h({userName:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),s=c(!1);async function w(){var n;await((n=_.value)==null?void 0:n.validate(a=>{s.value||a&&(s.value=!0,T.login(o.value).then(l=>{l.code=="200"&&(s.value=!1,f())}).catch(()=>{s.value=!1,f()}))}))}async function f(){m.setLogin({token:"Token-123456789",userInfo:{name:"admin",avatar:""}}),await m.getUserMenus(),p.query.redirect?d.replace(p.query.redirect):d.replace("/")}return(n,a)=>{const l=C,u=R,V=U,b=S;return k(),I("div",L,[g("div",z,[M,e(b,{model:o.value,ref_key:"formRef",ref:_,rules:v,size:"large"},{default:t(()=>[e(u,{label:"",prop:"userName"},{default:t(()=>[e(l,{modelValue:o.value.userName,"onUpdate:modelValue":a[0]||(a[0]=i=>o.value.userName=i),placeholder:"请输入账号/手机号/邮箱","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),e(u,{label:"",prop:"password"},{default:t(()=>[e(l,{modelValue:o.value.password,"onUpdate:modelValue":a[1]||(a[1]=i=>o.value.password=i),placeholder:"请输入密码",type:"password","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),e(u,null,{default:t(()=>[e(V,{class:"row-btn",type:"primary",loading:s.value,onClick:w},{default:t(()=>[E("登 录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}}),H=j(W,[["__scopeId","data-v-9d100416"]]);export{H as default};
