import{a as B,p as k}from"./element-plus-lAkOHo_l.js";import{T as E,E as S}from"./@wangeditor-DvRyx4cn.js";import{r as d,w,s as L,z as M,o as _,c as x,M as r,u as p,B as R,a as y,V as N,Q as h,d as j,U as v}from"./@vue-BMiCB2TE.js";import{u as z,b as O}from"./vue-router-B8RjtmZ7.js";import{u as U}from"./index-C9ZRj4Lz.js";import"./lodash-es-ByZL8CPd.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-BY4e9UjU.js";import"./@element-plus-DBFow1cQ.js";import"./@ctrl-r5W6hzzQ.js";import"./@popperjs-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-BSEasubo.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./lazysizes-DIA6Q0hx.js";const W={class:"wang-editor"},I=Object.assign({name:"WangEditor"},{__name:"WangEditor",props:{modelValue:{Type:String,default:""},placeholder:{Type:String,default:"请输入内容..."},maxLength:{Type:Number,default:null},mode:{Type:String,default:"default"}},emits:["update:modelValue"],setup(s,{expose:a,emit:l}){const n=s,f=l,i=d(n.modelValue);w(()=>n.modelValue,e=>{i.value=e});const t=L(),m=d({modalAppendToBody:!0,toolbarKeys:["blockquote","header1","header2","header3","|","bold","underline","italic","through","color","bgColor","clearStyle","|","bulletedList","numberedList","todo","justifyLeft","justifyRight","justifyCenter","|","insertLink",{key:"group-image",title:"图片",iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>',menuKeys:["insertImage","uploadImage"]},"insertVideo","insertTable","codeBlock","|","undo","redo","|","fullScreen"]}),g=d({placeholder:n.placeholder,maxLength:n.maxLength,autoFocus:!1,MENU_CONF:{uploadImage:{server:"/api/upload"},uploadVideo:{server:"/api/upload"}}});M(()=>{const e=t.value;e!=null&&e.destroy()});function u(e){t.value=e}function c(e){f("update:modelValue",e.getHtml())}function V(){const e=t.value;if(e!=null)return e.getHtml()}function C(){const e=t.value;if(e!=null)return e.getText()}function T(e){const o=t.value;o!=null&&o.setHtml(e)}function b(e){const o=t.value;o!=null&&o.insertText(e)}return a({getHtml:V,setHtml:T,getText:C,insertText:b}),(e,o)=>(_(),x("div",W,[r(p(E),{editor:t.value,defaultConfig:m.value,mode:s.mode},null,8,["editor","defaultConfig","mode"]),r(p(S),{style:{"overflow-y":"hidden"},modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=H=>i.value=H),defaultConfig:g.value,mode:s.mode,onOnCreated:u,onOnChange:c},null,8,["modelValue","defaultConfig","mode"])]))}}),$={class:"page-editor"},D={style:{margin:"10px 0"}},F=j({name:"WangEditor"}),ne=Object.assign(F,{setup(s){z(),O(),U();const a=d();let l=d("<p>老王编辑器</p>");function n(){a.value.setHtml(`<p>当前时间戳：${Date.now()}</p>`)}function f(){B.alert(a.value.getHtml(),"富文本",{confirmButtonText:"确定"})}function i(){a.value.insertText(`纯文本${Math.random()}`)}return(t,m)=>{const g=I,u=k;return _(),x("div",$,[r(g,{ref_key:"editorRef",ref:a,modelValue:p(l),"onUpdate:modelValue":m[0]||(m[0]=c=>R(l)?l.value=c:l=c),maxLength:1e3},null,8,["modelValue"]),y("div",D,N(p(l)),1),y("div",null,[r(u,{type:"primary",onClick:n},{default:h(()=>[v("设置富文本")]),_:1}),r(u,{type:"primary",onClick:f},{default:h(()=>[v("获取富文本")]),_:1}),r(u,{type:"primary",onClick:i},{default:h(()=>[v("插入纯文本")]),_:1})])])}}});export{ne as default};
