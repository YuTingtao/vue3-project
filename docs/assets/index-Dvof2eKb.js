import{m as x,n as V,o as y,p as I}from"./element-plus-BFcDWg1f.js";import{u as N,b as k}from"./vue-router-eHBfJRM6.js";import{u as E}from"./index-Bxsfa-W4.js";import{l as q}from"./index-3TpgaCGz.js";import{_ as B}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as i,I as F,o as R,c as S,a as g,M as e,Q as t,d as U,U as C,an as L,ao as M}from"./@vue-MCHm96jj.js";import"./lodash-es-Rc7wuZoG.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-BBkpAsxl.js";import"./@element-plus-BwAoTnwU.js";import"./@ctrl-r5W6hzzQ.js";import"./@popperjs-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-BMZIePXw.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./lazysizes-DIA6Q0hx.js";import"./axios-B4uVmeYG.js";const T=a=>(L("data-v-221b47eb"),a=a(),M(),a),j={class:"login-page"},z={class:"login-box"},A=T(()=>g("h3",{class:"title"},"欢迎登录",-1)),O=U({name:"Login"}),Q=Object.assign(O,{setup(a){const m=N(),p=k(),d=E(),l=i(),o=i({userName:"admin",password:"123456"}),v=F({userName:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),r=i(!1);async function b(){l.value&&await l.value.validate(_=>{_&&(r.value=!0,q.login(o.value).then(()=>{r.value=!1,c()}).catch(()=>{r.value=!1,c()}))})}async function c(){d.setLogin({token:"Token-123456789",userInfo:{name:"admin",avatar:""}}),await d.getUserMenus(),p.query.redirect?m.replace(p.query.redirect):m.replace("/")}return(_,s)=>{const f=V,n=y,w=I,h=x;return R(),S("div",j,[g("div",z,[A,e(h,{model:o.value,ref_key:"formRef",ref:l,rules:v,size:"large"},{default:t(()=>[e(n,{label:"",prop:"userName"},{default:t(()=>[e(f,{modelValue:o.value.userName,"onUpdate:modelValue":s[0]||(s[0]=u=>o.value.userName=u),placeholder:"请输入账号/手机号/邮箱","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),e(n,{label:"",prop:"password"},{default:t(()=>[e(f,{modelValue:o.value.password,"onUpdate:modelValue":s[1]||(s[1]=u=>o.value.password=u),placeholder:"请输入密码",type:"password","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(w,{class:"row-btn",type:"primary",loading:r.value,onClick:b},{default:t(()=>[C("登 录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}}),le=B(Q,[["__scopeId","data-v-221b47eb"]]);export{le as default};
