import{m as V,n as h,o as y,p as I}from"./element-plus-CwR5xvPY.js";import{u as N,b as k}from"./vue-router-a6fLCUut.js";import{u as S}from"./index-dC9_Sosh.js";import{l as q}from"./index-DMqWoaXQ.js";import{_ as E}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as m,I as B,o as R,c as U,a as g,M as e,Q as r,d as C,U as F,aq as L,ar as M}from"./@vue-u-uJWz1X.js";import"./lodash-es-CscGKdwc.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-BHnBbFPh.js";import"./@element-plus-Tb5X1IHT.js";import"./@ctrl-r5W6hzzQ.js";import"./@popperjs-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-BRKjGfEc.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./lazysizes-DIA6Q0hx.js";import"./axios-B4uVmeYG.js";const T=s=>(L("data-v-08213498"),s=s(),M(),s),j={class:"login-page"},z={class:"login-box"},A=T(()=>g("h3",{class:"title"},"欢迎登录",-1)),O=C({name:"Login"}),Q=Object.assign(O,{setup(s){const p=N(),c=k(),d=S(),f=m(),o=m({userName:"admin",password:"123456"}),v=B({userName:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),a=m(!1);async function w(){var n;await((n=f.value)==null?void 0:n.validate(t=>{a.value||t&&(a.value=!0,q.login(o.value).then(l=>{l.code=="200"&&(a.value=!1,_())}).catch(()=>{a.value=!1,_()}))}))}async function _(){d.setLogin({token:"Token-123456789",userInfo:{name:"admin",avatar:""}}),await d.getUserMenus(),c.query.redirect?p.replace(c.query.redirect):p.replace("/")}return(n,t)=>{const l=h,u=y,b=I,x=V;return R(),U("div",j,[g("div",z,[A,e(x,{model:o.value,ref_key:"formRef",ref:f,rules:v,size:"large"},{default:r(()=>[e(u,{label:"",prop:"userName"},{default:r(()=>[e(l,{modelValue:o.value.userName,"onUpdate:modelValue":t[0]||(t[0]=i=>o.value.userName=i),placeholder:"请输入账号/手机号/邮箱","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),e(u,{label:"",prop:"password"},{default:r(()=>[e(l,{modelValue:o.value.password,"onUpdate:modelValue":t[1]||(t[1]=i=>o.value.password=i),placeholder:"请输入密码",type:"password","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),e(u,null,{default:r(()=>[e(b,{class:"row-btn",type:"primary",loading:a.value,onClick:w},{default:r(()=>[F("登 录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}}),le=E(Q,[["__scopeId","data-v-08213498"]]);export{le as default};
