import{C as s,Y as E,Z as k,_ as w,o as h,k as y,a as u,u as f,$ as R,a0 as b,A as N,B as S,a1 as L,l as x,t as O,w as _,I as v,b as U,T as $}from"./vendor-xvlvVvvv.js";import{u as M}from"./index-Aljr6TAS.js";const W={class:"wang-editor"},A=Object.assign({name:"WangEditor"},{__name:"WangEditor",props:{modelValue:{Type:String,default:""},placeholder:{Type:String,default:"请输入内容..."},maxLength:{Type:Number,default:null},mode:{Type:String,default:"simple"}},emits:["update:modelValue"],setup(i,{expose:n,emit:a}){const l=i,p=a,r=s(l.modelValue);E(()=>l.modelValue,e=>{r.value=e});const t=k(),m=s({modalAppendToBody:!0}),g=s({placeholder:l.placeholder,maxLength:l.maxLength,autoFocus:!1,MENU_CONF:{uploadImage:{server:"/api/upload"},uploadVideo:{server:"/api/upload"}}});w(()=>{const e=t.value;e!=null&&e.destroy()});function d(e){t.value=e}function c(e){p("update:modelValue",e.getHtml())}function T(){const e=t.value;if(e!=null)return e.getHtml()}function C(){const e=t.value;if(e!=null)return e.getText()}function V(e){const o=t.value;o!=null&&o.setHtml(e)}function B(e){const o=t.value;o!=null&&o.insertText(e)}return n({getHtml:T,setHtml:V,getText:C,insertText:B}),(e,o)=>(h(),y("div",W,[u(f(R),{editor:t.value,defaultConfig:m.value,mode:i.mode},null,8,["editor","defaultConfig","mode"]),u(f(b),{style:{"overflow-y":"hidden"},modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=H=>r.value=H),defaultConfig:g.value,mode:i.mode,onOnCreated:d,onOnChange:c},null,8,["modelValue","defaultConfig","mode"])]))}}),D={class:"page-editor"},F={style:{margin:"10px 0"}},Y={__name:"index",setup(i){N(),S(),M();const n=s();let a=s("<p>老王编辑器</p>");function l(){n.value.setHtml(`<p>当前时间戳：${Date.now()}</p>`)}function p(){U.alert(n.value.getHtml(),"富文本",{confirmButtonText:"确定"})}function r(){n.value.insertText(`纯文本${Math.random()}`)}return(t,m)=>{const g=A,d=$;return h(),y("div",D,[u(g,{ref_key:"editorRef",ref:n,modelValue:f(a),"onUpdate:modelValue":m[0]||(m[0]=c=>L(a)?a.value=c:a=c),maxLength:1e3},null,8,["modelValue"]),x("div",F,O(f(a)),1),x("div",null,[u(d,{type:"primary",onClick:l},{default:_(()=>[v("设置富文本")]),_:1}),u(d,{type:"primary",onClick:p},{default:_(()=>[v("获取富文本")]),_:1}),u(d,{type:"primary",onClick:r},{default:_(()=>[v("插入纯文本")]),_:1})])])}}};export{Y as default};
