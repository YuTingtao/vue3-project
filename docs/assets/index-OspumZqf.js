import{r as O,o as _,c as C,w as S,a as M,u as k,E as P,z as R,d as x,b as I,e as N,f as A,g as B,h as D,i as j,j as z,k as V,l as T,m as U,n as g}from"./vendor-xvlvVvvv.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const $={__name:"App",setup(e){return(n,t)=>{const i=O("router-view"),r=P;return _(),C(r,{locale:k(R)},{default:S(()=>[M(i)]),_:1},8,["locale"])}}},H="modulepreload",q=function(e,n){return new URL(e,n).href},v={},d=function(n,t,i){let r=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link");r=Promise.all(t.map(s=>{if(s=q(s,i),s in v)return;v[s]=!0;const l=s.endsWith(".css"),L=l?'[rel="stylesheet"]':"";if(!!i)for(let u=o.length-1;u>=0;u--){const m=o[u];if(m.href===s&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${L}`))return;const a=document.createElement("link");if(a.rel=l?"stylesheet":H,l||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),l)return new Promise((u,m)=>{a.addEventListener("load",u),a.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})}))}return r.then(()=>n()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function y(e,n={}){return e.forEach(t=>{if(t.name&&(n[t.name]={path:t.path,buttons:t.buttons||[]}),Array.isArray(t.children))return y(t.children,n)}),n}function E(e){let n=(e==null?void 0:e.name)||"login";return Array.isArray(e.children)&&(n=E(e.children[0])),n}const F=[{path:"",name:"useCase",title:"使用案例",icon:"document",hidden:0,buttons:[],children:[{path:"/useCase/baseCase",name:"baseCase",title:"基础案例",icon:"",hidden:0,buttons:[{name:"add",title:"新增"},{name:"edit",title:"编辑"},{name:"delete",title:"删除"}]},{path:"/useCase/wangEditor",name:"wangEditor",title:"富文本编辑",icon:"",hidden:0,buttons:[{name:"add",title:"新增"},{name:"edit",title:"编辑"},{name:"delete",title:"删除"}]}]}],w=x("store",{state:()=>({token:"",userInfo:{},userMenus:[]}),getters:{menuObj:e=>y(e.userMenus),firstMenuName:e=>E(e.userMenus[0])},actions:{setLogin(e){this.token=e.token,this.userInfo=e.userInfo},setLogout(){this.token="",this.userInfo={}},getUserMenus(){this.userMenus=F}},persist:{enabled:!0,strategies:[{key:"store",storage:sessionStorage}]}}),W=[{path:"/useCase",name:"useCase",redirect:"",component:()=>d(()=>import("./index-g6Xcv20z.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),meta:{},children:[{path:"baseCase",name:"baseCase",redirect:"",component:()=>d(()=>import("./index-je6HNwnr.js"),__vite__mapDeps([5,1,2,6,7]),import.meta.url),meta:{}},{path:"wangEditor",name:"wangEditor",redirect:"",component:()=>d(()=>import("./index-dErIQvvZ.js"),__vite__mapDeps([8,1,2,9]),import.meta.url),meta:{}}]}];let f;function p(){const e=new XMLHttpRequest;e.open("get","./version.json?t="+Date.now(),!0),e.onreadystatechange=function(){if(e.readyState==4&&e.status==200){const n=JSON.parse(e.responseText);if(!f){f=n.version;return}f!=n.version&&(f=n.version,I.alert("检测到版本有更新，请点击确定刷新页面","提示").then(()=>{location.reload(!0)}))}},e.send()}function J(){p(),setInterval(()=>{p()},3e5)}const K=[{path:"/",name:"layout",component:()=>d(()=>import("./index-g6Xcv20z.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)},{path:"/login",name:"login",component:()=>d(()=>import("./index-VJfYmzGJ.js"),__vite__mapDeps([10,1,2,3,6,11]),import.meta.url)},...W],h=N({history:A(),routes:K,scrollBehavior(e,n,t){return{top:0}}});h.beforeEach((e,n)=>{const t=w(),i=["login","404",...Object.keys(t.menuObj)];if(!t.token&&e.path!=="/login")return"/login";if(!i.includes(e.name))return e.path!="/"&&e.path!="/404"&&B.error("访问地址不存在"),{name:t.firstMenuName}});h.onError(e=>{p()});const b=D();b.use(j);const X=["width","height"],G=["xlink:href","fill"],Q=Object.assign({name:"SvgIcon"},{__name:"SvgIcon",props:{name:{type:String,required:!0},size:{type:[String,Number],default:"1em"},color:{type:String,default:"currentColor"},prefix:{type:String,default:"icon"}},setup(e){const n=e,t=z(()=>`#${n.prefix}-${n.name}`);return(i,r)=>(_(),V("svg",{class:"svg-icon","aria-hidden":"true",width:e.size,height:e.size},[T("use",{"xlink:href":t.value,rel:"external nofollow",fill:e.color},null,8,G)],8,X))}});if(typeof window<"u"){let e=function(){var n=document.body,t=document.getElementById("svg__icon__dom");t||(t=document.createElementNS("http://www.w3.org/2000/svg","svg"),t.style.position="absolute",t.style.width="0",t.style.height="0",t.id="svg__icon__dom",t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),t.innerHTML='<symbol  viewBox="0 0 1024 1024" id="icon-case"><path d="m49.971 346.317 441.959 255.18c6.553 3.892 13.926 5.735 21.504 5.735 7.372 0 14.745-1.843 21.299-5.734L976.69 346.317c13.312-7.783 21.504-21.504 21.504-37.069s-7.987-29.286-21.504-37.069L534.733 17c-13.107-7.578-29.696-7.578-42.803 0L49.97 272.178c-13.312 7.783-21.299 21.504-21.299 37.069s7.782 29.286 21.3 37.069zM513.23 63.693l425.165 245.555-425.165 245.35-425.165-245.35L513.229 63.693z" /><path d="M954.163 496.64 513.23 751.206 72.499 496.64c-12.288-7.168-27.853-2.867-35.02 9.42-7.169 12.289-2.868 27.854 9.42 35.022l466.535 269.312 466.33-269.312c12.287-7.168 16.383-22.733 9.42-35.021-7.168-12.288-22.938-16.589-35.02-9.421z" /><path d="M954.163 699.392 513.23 953.958 72.499 699.392c-12.288-7.168-27.853-2.867-35.02 9.42-7.169 12.289-2.868 27.854 9.42 35.022l466.535 269.312 466.33-269.312c12.287-7.168 16.383-22.733 9.42-35.021-7.168-12.288-22.938-16.589-35.02-9.421z" /></symbol>',n.insertBefore(t,n.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}const Y={mounted(e,n){e.src&&(e.onerror=()=>{e.src=n.value,e.onerror=null})},updated(e,n){e.src&&(e.onerror=()=>{e.src=n.value,e.onerror=null})}},Z=h.currentRoute,ee={mounted(e,n){const t=w();if(typeof n.value=="object"){const{name:i,btn:r}=n.value;if(!r)t.menuObj[i]||e.parentNode.removeChild(e);else if(t.menuObj[i]){const{buttons:o}=t.menuObj[i];(!o||!o.some(s=>s.name===r))&&e.parentNode.removeChild(e)}}else{const{buttons:i}=t.menuObj[Z.value.name];i.some(r=>r.name===n.value)||e.parentNode.removeChild(e)}}};function te(e){e.directive("error",Y),e.directive("permission",ee)}var ne={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};J();const c=U($);c.config.errorHandler=(e,n,t)=>{p()};c.use(h);c.use(b);te(c);for(let e in g)c.component(e,g[e]);c.component("svg-icon",Q);c.mount("#app");console.log("node_env:","production");console.log("vite_env:",ne);export{Q as _,h as r,w as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index-g6Xcv20z.js","./vendor-xvlvVvvv.js","./vendor-tYMa38hl.css","./login-9teqqTfq.js","./index-cS1_eGAF.css","./index-je6HNwnr.js","./plugin-vue_export-helper-x3n3nnut.js","./index-VXoPs6Yu.css","./index-dErIQvvZ.js","./index-jSNYJn0A.css","./index-VJfYmzGJ.js","./index-kLsoSt1p.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
