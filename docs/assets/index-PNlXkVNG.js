import{p as x,r as k,o as s,k as v,c as m,w as l,a as u,q as w,t as y,l as i,F as g,s as E,v as M,x as O,y as j,A as $,B as P,C as z,D,G as A,H as U,j as B,I,J as H,K as J,L as T,M as q,N as G,O as K,P as Q,Q as X,R as W}from"./vendor-lSUlK3jN.js";import{_ as Y,u as Z}from"./index-jfC2owhO.js";import{l as ee}from"./login-34DoIJcl.js";const te=""+new URL("logo-O6JHtvX6.png",import.meta.url).href,ne={__name:"MenuItem",props:{item:{type:Object,default:()=>{}}},setup(e){const h=x();function d(r){h.push(r)}return(r,f)=>{const c=Y,_=M,n=k("MenuItem",!0),a=O,t=j;return e.item.meta.visible?(s(),v(g,{key:0},[e.item.children&&e.item.children.filter(o=>o.meta.visible).length>0?(s(),m(a,{key:0,index:e.item.path||e.item.meta.title},{title:l(()=>[e.item.meta.icon?(s(),m(_,{key:0},{default:l(()=>[u(c,{name:e.item.meta.icon},null,8,["name"])]),_:1})):w("",!0),i("span",null,y(e.item.meta.title),1)]),default:l(()=>[(s(!0),v(g,null,E(e.item.children,o=>(s(),m(n,{key:o.path,item:o},null,8,["item"]))),128))]),_:1},8,["index"])):(s(),m(t,{key:1,index:e.item.path,onClick:f[0]||(f[0]=o=>d(e.item.path))},{default:l(()=>[e.item.meta.icon?(s(),m(_,{key:0},{default:l(()=>[u(c,{name:e.item.meta.icon},null,8,["name"])]),_:1})):w("",!0),i("span",null,y(e.item.meta.title),1)]),_:1},8,["index"]))],64)):w("",!0)}}},ae={__name:"BreadCrumb",setup(e){const h=x(),d=$(),r=P([]),f=h.getRoutes();function c(){r.value=[];let n=d.matched;if(n[0].name=="layout"&&(n=n.slice(1)),n.length>1||n[0].meta.parentPath)for(let a=n.length-1;a>=0;a--){const t=n[a];let o=t.path;(a==n.length-1||t.meta.type==0)&&(o=""),r.value.unshift({path:o,title:t.meta.title});const p=t.meta.parentPath||"";p&&r.value.unshift(..._(p))}}function _(n,a=[]){const t=f.find(o=>o.path==n);return t&&a.unshift({path:t.meta.type==0?"":t.path,title:t.meta.title}),t.meta.parentPath?_(t.meta.parentPath,a):a}return z(()=>d.path,()=>{c()},{immediate:!0}),(n,a)=>{const t=A,o=U;return s(),m(o,null,{default:l(()=>[(s(!0),v(g,null,E(r.value,(p,b)=>(s(),m(t,{key:p.path+b,to:p.path},{default:l(()=>[D(y(p.title),1)]),_:2},1032,["to"]))),128))]),_:1})}}},oe={class:"app-aside"},le=i("img",{class:"app-logo-img",src:te,alt:""},null,-1),se=i("span",null,"VUE3后台模板",-1),ue=[le,se],ce=H({name:"Layout"}),de=Object.assign(ce,{setup(e){const h=x();$();const d=Z(),r=B(()=>d.userInfo),f=B(()=>d.userMenus),c=P(!1);function _(){c.value=!c.value}function n(){ee.logout().finally(()=>{d.setLogout(),h.replace("/login")})}return(a,t)=>{const o=M,p=K,b=k("arrow-down"),L=Q,N=X,R=J,S=W,V=T,F=k("router-view");return s(),v(g,null,[i("div",{class:"app-head",style:I(`left: ${c.value?"64px":"200px"};`)},[u(o,{class:"menu-collapse",onClick:_},{default:l(()=>[(s(),m(q(c.value?"Expand":"Fold")))]),_:1}),u(ae),u(R,{trigger:"hover"},{dropdown:l(()=>[u(N,null,{default:l(()=>[u(L,{onClick:n},{default:l(()=>[D("退出")]),_:1})]),_:1})]),default:l(()=>[i("div",null,[u(p,{src:r.value.avatar,size:32,icon:"UserFilled",shape:"circle",fit:"cover"},null,8,["src"]),i("span",null,y(r.value.name),1),u(o,null,{default:l(()=>[u(b)]),_:1})])]),_:1})],4),i("div",oe,[u(V,null,{default:l(()=>[i("div",{class:G(["app-logo",c.value?"collapsed":""])},ue,2),u(S,{collapse:c.value,"text-color":"#fff","background-color":"#3c4f60","default-active":a.$route.meta.activePath||a.$route.path||a.$route.name},{default:l(()=>[(s(!0),v(g,null,E(f.value,C=>(s(),m(ne,{key:C.path,item:C},null,8,["item"]))),128))]),_:1},8,["collapse","default-active"])]),_:1})]),i("div",{class:"app-main",style:I(`padding-left: ${c.value?"64px":"200px"};`)},[u(F,{class:"app-view"})],4)],64)}}});export{de as default};
