import{m as V,n as h,o as y,p as I}from"./element-plus-CwR5xvPY.js";import{u as N,b as k}from"./vue-router-a6fLCUut.js";import{u as q}from"./index-DmIG6kpD.js";import{l as E}from"./index-DaAmLaJa.js";import{_ as S}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as m,I as B,o as F,c as R,a as g,M as e,Q as r,d as U,U as C,aq as L,ar as M}from"./@vue-u-uJWz1X.js";import"./lodash-es-CscGKdwc.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-BHnBbFPh.js";import"./@element-plus-Tb5X1IHT.js";import"./@ctrl-r5W6hzzQ.js";import"./@popperjs-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-BRKjGfEc.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./lazysizes-DIA6Q0hx.js";import"./axios-B4uVmeYG.js";const T=s=>(L("data-v-aa7c73bd"),s=s(),M(),s),j={class:"login-page"},z={class:"login-box"},A=T(()=>g("h3",{class:"title"},"欢迎登录",-1)),O=U({name:"Login"}),Q=Object.assign(O,{setup(s){const p=N(),c=k(),d=q(),f=m(),o=m({userName:"admin",password:"123456"}),v=B({userName:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),t=m(!1);async function b(){var n;await((n=f.value)==null?void 0:n.validate(a=>{t.value||a&&(t.value=!0,E.login(o.value).then(l=>{l.code=="200"&&(t.value=!1,_())}).catch(()=>{t.value=!1,_()}))}))}async function _(){d.setLogin({token:"Token-123456789",userInfo:{name:"admin",avatar:""}}),await d.getUserMenus(),c.query.redirect?p.replace(c.query.redirect):p.replace("/")}return(n,a)=>{const l=h,u=y,w=I,x=V;return F(),R("div",j,[g("div",z,[A,e(x,{model:o.value,ref_key:"formRef",ref:f,rules:v,size:"large"},{default:r(()=>[e(u,{label:"",prop:"userName"},{default:r(()=>[e(l,{modelValue:o.value.userName,"onUpdate:modelValue":a[0]||(a[0]=i=>o.value.userName=i),placeholder:"请输入账号/手机号/邮箱","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),e(u,{label:"",prop:"password"},{default:r(()=>[e(l,{modelValue:o.value.password,"onUpdate:modelValue":a[1]||(a[1]=i=>o.value.password=i),placeholder:"请输入密码",type:"password","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),e(u,null,{default:r(()=>[e(w,{class:"row-btn",type:"primary",loading:t.value,onClick:b},{default:r(()=>[C("登 录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}}),le=S(Q,[["__scopeId","data-v-aa7c73bd"]]);export{le as default};
