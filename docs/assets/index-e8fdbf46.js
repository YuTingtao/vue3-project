import{r as L,o as _,c as S,w as O,a as P,u as k,E as C,z as R,d as x,b as M,e as I,f as A,g as B,h as D,i as N,j as V,k as z,l as T,m as j,n as h}from"./vendor-5026b1c1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const $={__name:"App",setup(e){return(t,r)=>{const s=L("router-view"),o=C;return _(),S(o,{locale:k(R)},{default:O(()=>[P(s)]),_:1},8,["locale"])}}},H="modulepreload",q=function(e,t){return new URL(e,t).href},g={},u=function(t,r,s){if(!r||r.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(r.map(n=>{if(n=q(n,s),n in g)return;g[n]=!0;const i=n.endsWith(".css"),b=i?'[rel="stylesheet"]':"";if(!!s)for(let l=o.length-1;l>=0;l--){const d=o[l];if(d.href===n&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${b}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":H,i||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),i)return new Promise((l,d)=>{a.addEventListener("load",l),a.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t()).catch(n=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=n,window.dispatchEvent(i),!i.defaultPrevented)throw n})};function v(e,t={}){return e.forEach(r=>{if(r.path&&(t[r.path]={name:r.name,buttons:r.buttons||[]}),Array.isArray(r.children))return v(r.children,t)}),t}function y(e){let t=(e==null?void 0:e.path)||"/login";return e.children&&e.children.length>0&&(t=y(e.children[0])),t}const U=[{path:"",name:"",title:"使用案例",icon:"document",hidden:0,buttons:[],children:[{path:"/baseCase",name:"baseCase",title:"基础案例",icon:"",hidden:0,buttons:[{name:"add",title:"新增"},{name:"edit",title:"编辑"},{name:"delete",title:"删除"}]},{path:"/wangEditor",name:"wangEditor",title:"富文本编辑",icon:"",hidden:0,buttons:[{name:"add",title:"新增"},{name:"edit",title:"编辑"},{name:"delete",title:"删除"}]}]}],E=x("store",{state:()=>({token:"",userInfo:{},userMenus:[]}),getters:{menuObj:e=>v(e.userMenus),firstPath:e=>y(e.userMenus[0])},actions:{setLogin(e){this.token=e.token,this.userInfo=e.userInfo},setLogout(){this.token="",this.userInfo={}},getUserMenus(){this.userMenus=U}},persist:{enabled:!0,strategies:[{key:"store",storage:sessionStorage}]}}),F=[{path:"/useCase",name:"useCase",redirect:"",component:()=>u(()=>import("./index-84fba9f2.js"),["./index-84fba9f2.js","./vendor-5026b1c1.js","./vendor-5898e478.css","./login-31e98460.js","./index-9a1892ce.css"],import.meta.url),meta:{},children:[{path:"/baseCase",name:"baseCase",redirect:"",component:()=>u(()=>import("./index-00733405.js"),["./index-00733405.js","./vendor-5026b1c1.js","./vendor-5898e478.css","./plugin-vue_export-helper-c27b6911.js","./index-b7d3aca7.css"],import.meta.url),meta:{}},{path:"/wangEditor",name:"wangEditor",redirect:"",component:()=>u(()=>import("./index-76304c76.js"),["./index-76304c76.js","./vendor-5026b1c1.js","./vendor-5898e478.css","./index-2d99613a.css"],import.meta.url),meta:{}}]}];let m=!1;function p(e){if(!m){m=!0;var t=new XMLHttpRequest;t.open("get","./version.json?timestamp="+Date.now(),!0),t.onreadystatechange=function(){if(m=!1,t.readyState==4&&t.status==200){var r=JSON.parse(t.responseText);!e&&r.version!=sessionStorage.appVersion&&M.alert("检测到版本有更新，请刷新页面","版本更新提示",{callback:()=>{location.reload(!0)}}),sessionStorage.appVersion=r.version}},t.send()}}const W=[{path:"/",name:"layout",component:()=>u(()=>import("./index-84fba9f2.js"),["./index-84fba9f2.js","./vendor-5026b1c1.js","./vendor-5898e478.css","./login-31e98460.js","./index-9a1892ce.css"],import.meta.url)},{path:"/login",name:"login",component:()=>u(()=>import("./index-d437f7f5.js"),["./index-d437f7f5.js","./vendor-5026b1c1.js","./vendor-5898e478.css","./login-31e98460.js","./plugin-vue_export-helper-c27b6911.js","./index-0830e636.css"],import.meta.url)},...F],f=I({history:A(),routes:W,scrollBehavior(e,t,r){return{top:0}}});f.beforeEach((e,t,r)=>{const s=E(),o=["/login","/404",...Object.keys(s.menuObj)];!s.token&&e.path!=="/login"?r("/login"):o.includes(e.path)?r():(e.path!="/"&&e.path!="/404"&&B.error("访问地址不存在"),r(s.firstPath))});f.onError(e=>{p()});const w=D();w.use(N);const J=["width","height"],K=["xlink:href","fill"],X={__name:"SvgIcon",props:{name:{type:String,required:!0},size:{type:[String,Number],default:"1em"},color:{type:String,default:"currentColor"},prefix:{type:String,default:"icon"}},setup(e){const t=e,r=V(()=>`#${t.prefix}-${t.name}`);return(s,o)=>(_(),z("svg",{class:"svg-icon","aria-hidden":"true",width:e.size,height:e.size},[T("use",{"xlink:href":r.value,rel:"external nofollow",fill:e.color},null,8,K)],8,J))}};if(typeof window<"u"){let e=function(){var t=document.body,r=document.getElementById("svg__icon__dom");r||(r=document.createElementNS("http://www.w3.org/2000/svg","svg"),r.style.position="absolute",r.style.width="0",r.style.height="0",r.id="svg__icon__dom",r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),r.innerHTML='<symbol  viewBox="0 0 1024 1024" id="icon-case"><path d="m49.971 346.317 441.959 255.18c6.553 3.892 13.926 5.735 21.504 5.735 7.372 0 14.745-1.843 21.299-5.734L976.69 346.317c13.312-7.783 21.504-21.504 21.504-37.069s-7.987-29.286-21.504-37.069L534.733 17c-13.107-7.578-29.696-7.578-42.803 0L49.97 272.178c-13.312 7.783-21.299 21.504-21.299 37.069s7.782 29.286 21.3 37.069zM513.23 63.693l425.165 245.555-425.165 245.35-425.165-245.35L513.229 63.693z" /><path d="M954.163 496.64 513.23 751.206 72.499 496.64c-12.288-7.168-27.853-2.867-35.02 9.42-7.169 12.289-2.868 27.854 9.42 35.022l466.535 269.312 466.33-269.312c12.287-7.168 16.383-22.733 9.42-35.021-7.168-12.288-22.938-16.589-35.02-9.421z" /><path d="M954.163 699.392 513.23 953.958 72.499 699.392c-12.288-7.168-27.853-2.867-35.02 9.42-7.169 12.289-2.868 27.854 9.42 35.022l466.535 269.312 466.33-269.312c12.287-7.168 16.383-22.733 9.42-35.021-7.168-12.288-22.938-16.589-35.02-9.421z" /></symbol>',t.insertBefore(r,t.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}const G={mounted(e,t){e.src&&(e.onerror=()=>{e.src=t.value,e.onerror=null})},updated(e,t){e.src&&(e.onerror=()=>{e.src=t.value,e.onerror=null})}},Q=f.currentRoute,Y={mounted(e,t){const r=E();if(typeof t.value=="object"){const{path:s,btn:o}=t.value;if(!o)r.menuObj[s]||e.parentNode.removeChild(e);else{const{buttons:n}=r.menuObj[s];(!n||!n.some(i=>i.name===o))&&e.parentNode.removeChild(e)}}else{const{buttons:s}=r.menuObj[Q.value.path];s.some(o=>o.name===t.value)||e.parentNode.removeChild(e)}}};function Z(e){e.directive("error",G),e.directive("permission",Y)}p("init");const c=j($);c.config.errorHandler=(e,t,r)=>{p()};c.use(f);c.use(w);Z(c);for(let e in h)c.component(e,h[e]);c.component("svg-icon",X);c.mount("#app");console.log("node_env:","production");console.log("vite_env:",{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1});export{X as _,f as r,E as u};
