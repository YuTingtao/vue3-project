import{p as w,q as y,s as _,t as h,o as V,k,l as f,a as e,w as s,v as N,x as I,y as q,A as B,B as E,C as F,D as R}from"./vendor-171d93a1.js";import{u as S}from"./index-a06e5195.js";import{l as C}from"./login-59139a9d.js";import{_ as U}from"./plugin-vue_export-helper-c27b6911.js";const A=t=>(q("data-v-b957b873"),t=t(),B(),t),L={class:"login-bg"},T={class:"login-box"},z=A(()=>f("h3",{class:"title"},"登录系统",-1)),D={__name:"index",setup(t){const u=w(),i=y(),d=S(),r=_(),o=_({userName:"admin",password:"123456"}),v=h({userName:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]});async function g(){r.value&&await r.value.validate(p=>{p&&C.login(o.value).then(()=>{c()}).catch(()=>{c()})})}async function c(){d.setLogin({token:"Token-123456789",userInfo:{name:"admin",avatar:""}}),await d.getUserMenus(),i.query.redirect?u.replace(i.query.redirect):u.replace("/")}return(p,a)=>{const m=E,l=F,b=R,x=N;return V(),k("div",L,[f("div",T,[z,e(x,{model:o.value,ref_key:"formRef",ref:r,rules:v,size:"large"},{default:s(()=>[e(l,{label:"",prop:"userName"},{default:s(()=>[e(m,{modelValue:o.value.userName,"onUpdate:modelValue":a[0]||(a[0]=n=>o.value.userName=n),placeholder:"请输入账号/手机号/邮箱","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),e(l,{label:"",prop:"password"},{default:s(()=>[e(m,{modelValue:o.value.password,"onUpdate:modelValue":a[1]||(a[1]=n=>o.value.password=n),placeholder:"请输入密码",type:"password","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),e(l,null,{default:s(()=>[e(b,{class:"row-btn",type:"primary",onClick:g},{default:s(()=>[I("登 录")]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}}},J=U(D,[["__scopeId","data-v-b957b873"]]);export{J as default};
