import{r as h,o as t,k as m,c as l,w as n,F as g,G as v,l as s,H as x,I as d,J as M,K as I,L as F,M as V,p as A,q as R,j as k,s as z,a as o,x as P,N as E,O as T,P as j,Q as q,R as G,S as H,T as J}from"./vendor-171d93a1.js";import{u as K}from"./index-493c2257.js";import{l as O}from"./login-800d9ae2.js";const Q={__name:"MenuItem",props:{item:{type:Array,default:()=>{}}},setup(e){return(_,u)=>{const r=I,p=h("MenuItem",!0),a=F,f=V;return e.item.hidden?v("",!0):(t(),m(d,{key:0},[e.item.children&&e.item.children.filter(c=>!c.hidden).length?(t(),l(a,{key:0,index:e.item.title},{title:n(()=>[e.item.icon?(t(),l(r,{key:0},{default:n(()=>[(t(),l(g(e.item.icon)))]),_:1})):v("",!0),s("span",null,x(e.item.title),1)]),default:n(()=>[(t(!0),m(d,null,M(e.item.children,c=>(t(),l(p,{key:c.name,item:c},null,8,["item"]))),128))]),_:1},8,["index"])):(t(),l(f,{key:1,index:e.item.path||e.item.redirect},{default:n(()=>[e.item.icon?(t(),l(r,{key:0},{default:n(()=>[(t(),l(g(e.item.icon)))]),_:1})):v("",!0),s("span",null,x(e.item.title),1)]),_:1},8,["index"]))],64))}}};const U={class:"app-aside"},ee={__name:"index",setup(e){const _=A();R();const u=K(),r=k(()=>u.userInfo),p=k(()=>u.userMenus),a=z(!1);function f(){a.value=!a.value}function c(){O.logout().then(i=>{u.setLogout(),_.replace("/login")}).catch(i=>{u.setLogout(),_.replace("/login")})}return(i,W)=>{const w=I,C=T,S=h("arrow-down"),b=j,D=q,L=G,N=H,$=J,B=h("router-view");return t(),m(d,null,[s("div",{class:"app-head",style:E(`left: ${a.value?"64px":"220px"};`)},[o(w,{class:"menu-collapse",onClick:f},{default:n(()=>[(t(),l(g(a.value?"Expand":"Fold")))]),_:1}),o(L,{trigger:"hover"},{dropdown:n(()=>[o(D,null,{default:n(()=>[o(b,{onClick:c},{default:n(()=>[P("退出")]),_:1})]),_:1})]),default:n(()=>[s("div",null,[o(C,{src:r.value.avatar,size:32,icon:"UserFilled",shape:"circle",fit:"cover"},null,8,["src"]),s("span",null,x(r.value.name),1),o(w,null,{default:n(()=>[o(S)]),_:1})])]),_:1})],4),s("div",U,[o($,null,{default:n(()=>[o(N,{collapse:a.value,router:"","default-active":i.$route.meta.activePath||i.$route.path,"text-color":"#fff","background-color":"#424548"},{default:n(()=>[(t(!0),m(d,null,M(p.value,y=>(t(),l(Q,{key:y.name,item:y},null,8,["item"]))),128))]),_:1},8,["collapse","default-active"])]),_:1})]),s("div",{class:"app-main",style:E(`padding-left: ${a.value?"64px":"220px"};`)},[o(B,{class:"app-view"})],4)],64)}}};export{ee as default};
