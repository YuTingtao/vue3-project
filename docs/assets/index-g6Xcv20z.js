import{r as h,o as t,k as m,c as l,w as n,p as w,q as v,t as g,l as s,F as d,s as M,v as C,x as N,y as V,A,B as j,j as k,C as z,a as o,D as E,G as R,H as q,I as G,J as H,K as J,L as K,M as O}from"./vendor-xvlvVvvv.js";import{u as P}from"./index-OspumZqf.js";import{l as T}from"./login-9teqqTfq.js";const U={__name:"MenuItem",props:{item:{type:Object,default:()=>{}}},setup(e){return(_,u)=>{const r=C,p=h("MenuItem",!0),a=N,f=V;return e.item.hidden?v("",!0):(t(),m(d,{key:0},[e.item.children&&e.item.children.filter(c=>!c.hidden).length?(t(),l(a,{key:0,index:e.item.title},{title:n(()=>[e.item.icon?(t(),l(r,{key:0},{default:n(()=>[(t(),l(w(e.item.icon)))]),_:1})):v("",!0),s("span",null,g(e.item.title),1)]),default:n(()=>[(t(!0),m(d,null,M(e.item.children,c=>(t(),l(p,{key:c.name,item:c},null,8,["item"]))),128))]),_:1},8,["index"])):(t(),l(f,{key:1,index:e.item.path||e.item.redirect},{default:n(()=>[e.item.icon?(t(),l(r,{key:0},{default:n(()=>[(t(),l(w(e.item.icon)))]),_:1})):v("",!0),s("span",null,g(e.item.title),1)]),_:1},8,["index"]))],64))}}},Q={class:"app-aside"},ee={__name:"index",setup(e){const _=A();j();const u=P(),r=k(()=>u.userInfo),p=k(()=>u.userMenus),a=z(!1);function f(){a.value=!a.value}function c(){T.logout().then(i=>{u.setLogout(),_.replace("/login")}).catch(i=>{u.setLogout(),_.replace("/login")})}return(i,W)=>{const x=C,I=H,D=h("arrow-down"),b=J,B=K,L=R,S=O,$=q,F=h("router-view");return t(),m(d,null,[s("div",{class:"app-head",style:E(`left: ${a.value?"64px":"220px"};`)},[o(x,{class:"menu-collapse",onClick:f},{default:n(()=>[(t(),l(w(a.value?"Expand":"Fold")))]),_:1}),o(L,{trigger:"hover"},{dropdown:n(()=>[o(B,null,{default:n(()=>[o(b,{onClick:c},{default:n(()=>[G("退出")]),_:1})]),_:1})]),default:n(()=>[s("div",null,[o(I,{src:r.value.avatar,size:32,icon:"UserFilled",shape:"circle",fit:"cover"},null,8,["src"]),s("span",null,g(r.value.name),1),o(x,null,{default:n(()=>[o(D)]),_:1})])]),_:1})],4),s("div",Q,[o($,null,{default:n(()=>[o(S,{collapse:a.value,router:"","default-active":i.$route.meta.activePath||i.$route.path},{default:n(()=>[(t(!0),m(d,null,M(p.value,y=>(t(),l(U,{key:y.name,item:y},null,8,["item"]))),128))]),_:1},8,["collapse","default-active"])]),_:1})]),s("div",{class:"app-main",style:E(`padding-left: ${a.value?"64px":"220px"};`)},[o(F,{class:"app-view"})],4)],64)}}};export{ee as default};
