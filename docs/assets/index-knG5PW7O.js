import{p as h,B as N,C as d,N as V,o as k,k as y,l as g,a as e,w as a,O as I,I as B,P as E,Q as R,R as S,S as q,T as F}from"./vendor-9BaPkxyl.js";import{u as C}from"./index-Yvj7pxAB.js";import{l as T}from"./login-c64IT813.js";import{_ as U}from"./plugin-vue_export-helper-x3n3nnut.js";const L=s=>(E("data-v-ddccb39e"),s=s(),R(),s),z={class:"login-bg"},A={class:"login-box"},M=L(()=>g("h3",{class:"title"},"登录系统",-1)),O={__name:"index",setup(s){const c=h(),i=N(),p=C(),r=d(),o=d({userName:"admin",password:"123456"}),v=V({userName:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),t=d(!1);async function w(){r.value&&await r.value.validate(_=>{_&&(t.value=!0,T.login(o.value).then(()=>{t.value=!1,m()}).catch(()=>{t.value=!1,m()}))})}async function m(){p.setLogin({token:"Token-123456789",userInfo:{name:"admin",avatar:""}}),await p.getUserMenus(),i.query.redirect?c.replace(i.query.redirect):c.replace("/")}return(_,l)=>{const f=S,n=q,b=F,x=I;return k(),y("div",z,[g("div",A,[M,e(x,{model:o.value,ref_key:"formRef",ref:r,rules:v,size:"large"},{default:a(()=>[e(n,{label:"",prop:"userName"},{default:a(()=>[e(f,{modelValue:o.value.userName,"onUpdate:modelValue":l[0]||(l[0]=u=>o.value.userName=u),placeholder:"请输入账号/手机号/邮箱","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),e(n,{label:"",prop:"password"},{default:a(()=>[e(f,{modelValue:o.value.password,"onUpdate:modelValue":l[1]||(l[1]=u=>o.value.password=u),placeholder:"请输入密码",type:"password","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),e(n,null,{default:a(()=>[e(b,{class:"row-btn",type:"primary",loading:t.value,onClick:w},{default:a(()=>[B("登 录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}},G=U(O,[["__scopeId","data-v-ddccb39e"]]);export{G as default};
