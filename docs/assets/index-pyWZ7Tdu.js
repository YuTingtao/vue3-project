import{p as M,r as w,o as t,k as d,c as a,w as n,q as k,s as h,t as y,l as s,F as p,v as I,x as $,y as A,A as j,B as z,j as E,C as R,a as o,D as C,G as T,H as q,I as G,J as H,K as J,L as K,M as O}from"./vendor-9BaPkxyl.js";import{u as U}from"./index-4Odt8lEY.js";import{l as P}from"./login-kisThocF.js";const Q={__name:"MenuItem",props:{item:{type:Object,default:()=>{}}},setup(e){const _=M();function c(r){_.push(r)}return(r,m)=>{const l=$,f=w("MenuItem",!0),v=A,i=j;return e.item.hidden?h("",!0):(t(),d(p,{key:0},[e.item.children&&e.item.children.filter(u=>!u.hidden).length?(t(),a(v,{key:0,index:e.item.title},{title:n(()=>[e.item.icon?(t(),a(l,{key:0},{default:n(()=>[(t(),a(k(e.item.icon)))]),_:1})):h("",!0),s("span",null,y(e.item.title),1)]),default:n(()=>[(t(!0),d(p,null,I(e.item.children,u=>(t(),a(f,{key:u.name,item:u},null,8,["item"]))),128))]),_:1},8,["index"])):(t(),a(i,{key:1,index:e.item.path,onClick:m[0]||(m[0]=u=>c(e.item.path))},{default:n(()=>[e.item.icon?(t(),a(l,{key:0},{default:n(()=>[(t(),a(k(e.item.icon)))]),_:1})):h("",!0),s("span",null,y(e.item.title),1)]),_:1},8,["index"]))],64))}}},W={class:"app-aside"},ee={__name:"index",setup(e){const _=M();z();const c=U(),r=E(()=>c.userInfo),m=E(()=>c.userMenus),l=R(!1);function f(){l.value=!l.value}function v(){P.logout().finally(()=>{c.setLogout(),_.replace("/login")})}return(i,u)=>{const g=$,b=H,D=w("arrow-down"),B=J,S=K,F=T,L=O,N=q,V=w("router-view");return t(),d(p,null,[s("div",{class:"app-head",style:C(`left: ${l.value?"64px":"220px"};`)},[o(g,{class:"menu-collapse",onClick:f},{default:n(()=>[(t(),a(k(l.value?"Expand":"Fold")))]),_:1}),o(F,{trigger:"hover"},{dropdown:n(()=>[o(S,null,{default:n(()=>[o(B,{onClick:v},{default:n(()=>[G("退出")]),_:1})]),_:1})]),default:n(()=>[s("div",null,[o(b,{src:r.value.avatar,size:32,icon:"UserFilled",shape:"circle",fit:"cover"},null,8,["src"]),s("span",null,y(r.value.name),1),o(g,null,{default:n(()=>[o(D)]),_:1})])]),_:1})],4),s("div",W,[o(N,null,{default:n(()=>[o(L,{collapse:l.value,"text-color":"#fff","background-color":"#4c5055","default-active":i.$route.meta.active||i.$route.path||i.$route.name},{default:n(()=>[(t(!0),d(p,null,I(m.value,x=>(t(),a(Q,{key:x.name,item:x},null,8,["item"]))),128))]),_:1},8,["collapse","default-active"])]),_:1})]),s("div",{class:"app-main",style:C(`padding-left: ${l.value?"64px":"220px"};`)},[o(V,{class:"app-view"})],4)],64)}}};export{ee as default};
