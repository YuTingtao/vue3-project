import{r as S,o as w,c as M,w as k,a as C,u as x,E as P,z as R,d as N,b as I,e as A,f as B,g as D,h as j,i as z,j as V,k as T,l as U,m as $,n as v}from"./vendor-9BaPkxyl.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const H={__name:"App",setup(e){return(n,t)=>{const i=S("router-view"),r=P;return w(),M(r,{locale:x(R)},{default:k(()=>[C(i)]),_:1},8,["locale"])}}},q="modulepreload",F=function(e,n){return new URL(e,n).href},_={},f=function(n,t,i){let r=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link");r=Promise.all(t.map(s=>{if(s=F(s,i),s in _)return;_[s]=!0;const l=s.endsWith(".css"),O=l?'[rel="stylesheet"]':"";if(!!i)for(let u=o.length-1;u>=0;u--){const d=o[u];if(d.href===s&&(!l||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${O}`))return;const a=document.createElement("link");if(a.rel=l?"stylesheet":q,l||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),l)return new Promise((u,d)=>{a.addEventListener("load",u),a.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})}))}return r.then(()=>n()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function E(e,n={}){return e.forEach(t=>{if(t.name&&(n[t.name]={path:t.path,buttons:t.buttons||[]}),Array.isArray(t.children))return E(t.children,n)}),n}function b(e){let n=(e==null?void 0:e.name)||"login";return Array.isArray(e.children)&&(n=b(e.children[0])),n}const W=[{path:"",name:"",title:"使用案例",icon:"document",hidden:0,buttons:[],children:[{path:"/baseCase",name:"baseCase",title:"基础案例",icon:"",hidden:0,buttons:[{name:"add",title:"新增"},{name:"edit",title:"编辑"},{name:"delete",title:"删除"}]},{path:"/wangEditor",name:"wangEditor",title:"富文本编辑",icon:"",hidden:0,buttons:[{name:"add",title:"新增"},{name:"edit",title:"编辑"},{name:"delete",title:"删除"}]}]}],g=N("store",{state:()=>({token:"",userInfo:{},userMenus:[]}),getters:{menuObj:e=>E(e.userMenus),firstMenuName:e=>b(e.userMenus[0])},actions:{setLogin(e){this.token=e.token,this.userInfo=e.userInfo},setLogout(){this.token="",this.userInfo={}},getUserMenus(){this.userMenus=W}},persist:{enabled:!0,strategies:[{key:"store",storage:sessionStorage}]}}),J=[{path:"/baseCase",name:"baseCase",redirect:"",component:()=>f(()=>import("./index-4SzSi-G3.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),meta:{active:""}},{path:"/wangEditor",name:"wangEditor",redirect:"",component:()=>f(()=>import("./index-cqU6595o.js"),__vite__mapDeps([5,1,2,6]),import.meta.url),meta:{active:""}}];let m;function p(){const e=new XMLHttpRequest;e.open("get","./version.json?t="+Date.now(),!0),e.onreadystatechange=function(){if(e.readyState==4&&e.status==200){const n=JSON.parse(e.responseText);if(!m){m=n.version;return}m!=n.version&&(m=n.version,I.alert("检测到版本有更新，请点击确定刷新页面","提示").then(()=>{location.reload(!0)}))}},e.send()}function K(){p(),setInterval(()=>{p()},3e5)}const X=[{path:"/",name:"layout",component:()=>f(()=>import("./index-3nvG-1gR.js"),__vite__mapDeps([7,1,2,8,9]),import.meta.url),children:[...J]},{path:"/login",name:"login",component:()=>f(()=>import("./index-B9J3DF_U.js"),__vite__mapDeps([10,1,2,8,3,11]),import.meta.url)}],h=A({history:B(),routes:X,scrollBehavior(e,n,t){return{top:0}}});h.beforeEach((e,n)=>{const t=g(),i=["login",...Object.keys(t.menuObj)];if(!t.token&&e.path!=="/login")return"/login";if(!i.includes(e.name))return e.path!="/"&&D.error("访问地址不存在"),{name:t.firstMenuName}});h.onError(e=>{p()});const L=j();L.use(z);const G=["width","height"],Q=["xlink:href","fill"],Y=Object.assign({name:"SvgIcon"},{__name:"SvgIcon",props:{name:{type:String,required:!0},size:{type:[String,Number],default:"1em"},color:{type:String,default:"currentColor"},prefix:{type:String,default:"icon"}},setup(e){const n=e,t=V(()=>`#${n.prefix}-${n.name}`);return(i,r)=>(w(),T("svg",{class:"svg-icon","aria-hidden":"true",width:e.size,height:e.size},[U("use",{"xlink:href":t.value,rel:"external nofollow",fill:e.color},null,8,Q)],8,G))}});if(typeof window<"u"){let e=function(){var n=document.body,t=document.getElementById("svg__icon__dom");t||(t=document.createElementNS("http://www.w3.org/2000/svg","svg"),t.style.position="absolute",t.style.width="0",t.style.height="0",t.id="svg__icon__dom",t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),t.innerHTML='<symbol  viewBox="0 0 1024 1024" id="icon-case"><path d="m49.971 346.317 441.959 255.18c6.553 3.892 13.926 5.735 21.504 5.735 7.372 0 14.745-1.843 21.299-5.734L976.69 346.317c13.312-7.783 21.504-21.504 21.504-37.069s-7.987-29.286-21.504-37.069L534.733 17c-13.107-7.578-29.696-7.578-42.803 0L49.97 272.178c-13.312 7.783-21.299 21.504-21.299 37.069s7.782 29.286 21.3 37.069zM513.23 63.693l425.165 245.555-425.165 245.35-425.165-245.35L513.229 63.693z" /><path d="M954.163 496.64 513.23 751.206 72.499 496.64c-12.288-7.168-27.853-2.867-35.02 9.42-7.169 12.289-2.868 27.854 9.42 35.022l466.535 269.312 466.33-269.312c12.287-7.168 16.383-22.733 9.42-35.021-7.168-12.288-22.938-16.589-35.02-9.421z" /><path d="M954.163 699.392 513.23 953.958 72.499 699.392c-12.288-7.168-27.853-2.867-35.02 9.42-7.169 12.289-2.868 27.854 9.42 35.022l466.535 269.312 466.33-269.312c12.287-7.168 16.383-22.733 9.42-35.021-7.168-12.288-22.938-16.589-35.02-9.421z" /></symbol>',n.insertBefore(t,n.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}const Z={mounted(e,n){e.src&&(e.onerror=()=>{e.src=n.value,e.onerror=null})},updated(e,n){e.src&&(e.onerror=()=>{e.src=n.value,e.onerror=null})}},ee=h.currentRoute,te={mounted(e,n){const t=g();if(typeof n.value=="object"){const{name:i,btn:r}=n.value;if(!r)t.menuObj[i]||e.parentNode.removeChild(e);else if(t.menuObj[i]){const{buttons:o}=t.menuObj[i];(!o||!o.some(s=>s.name===r))&&e.parentNode.removeChild(e)}}else{const{buttons:i}=t.menuObj[ee.value.name];i.some(r=>r.name===n.value)||e.parentNode.removeChild(e)}}};function ne(e){e.directive("error",Z),e.directive("permission",te)}var re={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};K();const c=$(H);c.config.errorHandler=(e,n,t)=>{p()};c.use(h);c.use(L);ne(c);for(let e in v)c.component(e,v[e]);c.component("svg-icon",Y);const y=g();y.token&&y.getUserMenus();c.mount("#app");console.log("node_env:","production");console.log("vite_env:",re);export{Y as _,h as r,g as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index-4SzSi-G3.js","./vendor-9BaPkxyl.js","./vendor-MPfKVUKK.css","./plugin-vue_export-helper-x3n3nnut.js","./index-VXoPs6Yu.css","./index-cqU6595o.js","./index-jSNYJn0A.css","./index-3nvG-1gR.js","./login-HXQz-K1W.js","./index-bwn7CF0z.css","./index-B9J3DF_U.js","./index-kLsoSt1p.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
