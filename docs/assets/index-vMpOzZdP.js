import{m as h,n as x,o as y,p as N}from"./element-plus-WZYJRZ5E.js";import{u as k,b as I}from"./vue-router-WHR0Whhi.js";import{u as E}from"./index-iG3ichmV.js";import{l as R}from"./login-5gY341jA.js";import{_ as q}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as u,J as B,o as F,c as S,a as g,O as e,R as t,d as C,V as L,ao as U,ap as O}from"./@vue-iFnbdo9x.js";import"./lodash-es-vSGfxUvG.js";import"./async-validator-BHjhHa7C.js";import"./@vueuse-UmKuPg-z.js";import"./@element-plus-eEMicSMF.js";import"./@ctrl-ZggoHSuR.js";import"./@popperjs--N-3kK7X.js";import"./normalize-wheel-es-1urBKM79.js";import"./pinia-OYXpEGn8.js";import"./vue-demi-C4xddsk9.js";import"./pinia-plugin-persist-h1Jd8UcV.js";import"./lazysizes-mB2Dhswp.js";import"./axios-G2rPRu76.js";const T=a=>(U("data-v-0ed798f6"),a=a(),O(),a),j={class:"login-bg"},z={class:"login-box"},A=T(()=>g("h3",{class:"title"},"登录系统",-1)),J=C({name:"Login"}),M=Object.assign(J,{setup(a){const m=k(),p=I(),d=E(),l=u(),o=u({userName:"admin",password:"123456"}),v=B({userName:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),r=u(!1);async function b(){l.value&&await l.value.validate(f=>{f&&(r.value=!0,R.login(o.value).then(()=>{r.value=!1,c()}).catch(()=>{r.value=!1,c()}))})}async function c(){d.setLogin({token:"Token-123456789",userInfo:{name:"admin",avatar:""}}),await d.getUserMenus(),p.query.redirect?m.replace(p.query.redirect):m.replace("/")}return(f,s)=>{const _=x,n=y,w=N,V=h;return F(),S("div",j,[g("div",z,[A,e(V,{model:o.value,ref_key:"formRef",ref:l,rules:v,size:"large"},{default:t(()=>[e(n,{label:"",prop:"userName"},{default:t(()=>[e(_,{modelValue:o.value.userName,"onUpdate:modelValue":s[0]||(s[0]=i=>o.value.userName=i),placeholder:"请输入账号/手机号/邮箱","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),e(n,{label:"",prop:"password"},{default:t(()=>[e(_,{modelValue:o.value.password,"onUpdate:modelValue":s[1]||(s[1]=i=>o.value.password=i),placeholder:"请输入密码",type:"password","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(w,{class:"row-btn",type:"primary",loading:r.value,onClick:b},{default:t(()=>[L("登 录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}}),ne=q(M,[["__scopeId","data-v-0ed798f6"]]);export{ne as default};
