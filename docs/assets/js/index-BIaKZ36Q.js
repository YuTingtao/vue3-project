import{m as V,n as k,o as y,p as E}from"./element-plus-BV_nfdkK.js";import{k as g,r as i,U as q,l as B,G as _,L as o,J as l,a6 as F,aF as N,aE as R,o as U}from"./vue-BbC-JwUM.js";import{u as C}from"./index-85xxOuk1.js";import{l as I}from"./login-B6pPp3Z_.js";import{_ as L}from"./plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-CiQ18Z6_.js";const S={class:"login-page"},T={class:"login-box"},h=g({name:"Login"}),z=g({...h,setup(A){const c=R(),d=N(),m=C(),p=i(),a=i({account:"admin",password:"123456"}),v=q({account:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),t=i(!1);async function w(){var s;await((s=p.value)==null?void 0:s.validate(e=>{t.value||e&&(t.value=!0,I.login(a.value).then(r=>{r.code===200&&(t.value=!1,f())}).catch(()=>{t.value=!1,f()}))}))}async function f(){m.setLogin({id:1,token:"Token-123456789",userName:"admin",avatar:""}),await m.getUserMenus(),d.query.redirect?c.replace(d.query.redirect):c.replace("/")}return(s,e)=>{const r=y,n=k,b=E,x=V;return U(),B("div",S,[_("div",T,[e[3]||(e[3]=_("h3",{class:"title"},"欢迎登录",-1)),o(x,{model:a.value,ref_key:"formRef",ref:p,rules:v,size:"large"},{default:l(()=>[o(n,{label:"",prop:"account"},{default:l(()=>[o(r,{modelValue:a.value.account,"onUpdate:modelValue":e[0]||(e[0]=u=>a.value.account=u),placeholder:"请输入账号/手机号/邮箱","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),o(n,{label:"",prop:"password"},{default:l(()=>[o(r,{modelValue:a.value.password,"onUpdate:modelValue":e[1]||(e[1]=u=>a.value.password=u),placeholder:"请输入密码",type:"password","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),o(n,null,{default:l(()=>[o(b,{class:"row-btn",type:"primary",loading:t.value,onClick:w},{default:l(()=>e[2]||(e[2]=[F("登 录")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}}),K=L(z,[["__scopeId","data-v-fbeff580"]]);export{K as default};
