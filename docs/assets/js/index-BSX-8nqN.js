import{u as b}from"./index-VTHSqtH6.js";/* empty css                  *//* empty css               *//* empty css              */import{t as g,r as i,U as y,v as k,A as _,L as o,J as r,a2 as q,au as E,at as B,x as N}from"./vue-render-BaYS_z1e.js";import{l as R}from"./login-B2WFWoqz.js";import{n as U,o as C,p as F,q as I}from"./element-plus-DzTveOOg.js";import{_ as L}from"./plugin-vue_export-helper-DlAUqK2U.js";const S={class:"login-page"},A={class:"login-box"},T=g({name:"Login"}),h=g({...T,setup(z){const c=B(),d=E(),p=b(),m=i(),t=i({account:"admin",password:"123456"}),v=y({account:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),a=i(!1);async function w(){var s;await((s=m.value)==null?void 0:s.validate(e=>{a.value||e&&(a.value=!0,R.login(t.value).then(l=>{l.code===200&&(a.value=!1,f())}).catch(()=>{a.value=!1,f()}))}))}async function f(){p.setLogin({id:1,token:"Token-123456789",userName:"admin",avatar:""}),await p.getUserMenus(),d.query.redirect?c.replace(d.query.redirect):c.replace("/")}return(s,e)=>{const l=F,n=C,x=I,V=U;return N(),k("div",S,[_("div",A,[e[3]||(e[3]=_("h3",{class:"title"},"欢迎登录",-1)),o(V,{model:t.value,ref_key:"formRef",ref:m,rules:v,size:"large"},{default:r(()=>[o(n,{label:"",prop:"account"},{default:r(()=>[o(l,{modelValue:t.value.account,"onUpdate:modelValue":e[0]||(e[0]=u=>t.value.account=u),placeholder:"请输入账号/手机号/邮箱","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),o(n,{label:"",prop:"password"},{default:r(()=>[o(l,{modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=u=>t.value.password=u),placeholder:"请输入密码",type:"password","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),o(n,null,{default:r(()=>[o(x,{class:"row-btn",type:"primary",loading:a.value,onClick:w},{default:r(()=>e[2]||(e[2]=[q("登 录")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}}),P=L(h,[["__scopeId","data-v-d345df51"]]);export{P as default};
