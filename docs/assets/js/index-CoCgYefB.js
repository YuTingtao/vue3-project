import{ar as x,r as i,a8 as N,j as V,A as _,N as o,m as s,e as y,an as k,aq as E,o as q,al as R,as as B,R as I}from"./index-B8j6Ahfh.js";import{E as C,a as F}from"./form-item-CZeNVdho.js";/* empty css               *//* empty css              */import{l as S}from"./index-B9MCGpXq.js";import{_ as U}from"./plugin-vue_export-helper-DlAUqK2U.js";import"./castArray-0rLMMs66.js";import"./axios-upsvKRUO.js";const j={class:"login-page"},A={class:"login-box"},L=y({name:"Login"}),T=Object.assign(L,{setup(h){const m=k(),d=E(),p=x(),c=i(),a=i({userName:"admin",password:"123456"}),g=N({userName:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),t=i(!1);async function v(){var l;await((l=c.value)==null?void 0:l.validate(e=>{t.value||e&&(t.value=!0,S.login(a.value).then(r=>{r.code=="200"&&(t.value=!1,f())}).catch(()=>{t.value=!1,f()}))}))}async function f(){p.setLogin({token:"Token-123456789",userInfo:{name:"admin",avatar:""}}),await p.getUserMenus(),d.query.redirect?m.replace(d.query.redirect):m.replace("/")}return(l,e)=>{const r=B,n=F,w=I,b=C;return q(),V("div",j,[_("div",A,[e[3]||(e[3]=_("h3",{class:"title"},"欢迎登录",-1)),o(b,{model:a.value,ref_key:"formRef",ref:c,rules:g,size:"large"},{default:s(()=>[o(n,{label:"",prop:"userName"},{default:s(()=>[o(r,{modelValue:a.value.userName,"onUpdate:modelValue":e[0]||(e[0]=u=>a.value.userName=u),placeholder:"请输入账号/手机号/邮箱","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),o(n,{label:"",prop:"password"},{default:s(()=>[o(r,{modelValue:a.value.password,"onUpdate:modelValue":e[1]||(e[1]=u=>a.value.password=u),placeholder:"请输入密码",type:"password","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),o(n,null,{default:s(()=>[o(w,{class:"row-btn",type:"primary",loading:t.value,onClick:v},{default:s(()=>e[2]||(e[2]=[R("登 录")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}}),P=U(T,[["__scopeId","data-v-9d100416"]]);export{P as default};
