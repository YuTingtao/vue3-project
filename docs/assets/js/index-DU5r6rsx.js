import{m as k,n as y,o as q,p as E}from"./element-plus-BBMzEW1d.js";import{u as B,_ as N}from"./index-B-pZmzMi.js";import{n as v,r as i,a8 as R,o as C,X as g,a0 as o,_ as a,ao as F,bl as I,bk as S,q as U}from"./vendor-D-cnfIL5.js";import{l as L}from"./login-Db8Ok2O3.js";import{_ as T}from"./plugin-vue_export-helper-DlAUqK2U.js";const h={class:"login-page"},z={class:"login-box"},A=v({name:"Login"}),M=v({...A,setup(X){const c=S(),d=I(),m=B(),p=i(),t=i({account:"admin",password:"123456"}),b=R({account:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),s=i(!1);async function w(){var l;await((l=p.value)==null?void 0:l.validate(e=>{s.value||e&&(s.value=!0,L.login(t.value).then(r=>{r.code===200&&(s.value=!1,_())}).catch(()=>{s.value=!1,_()}))}))}async function _(){m.setLogin({id:1,token:"Token-123456789",userName:"admin",avatar:""}),await m.getUserMenus(),d.query.redirect?c.replace(d.query.redirect):c.replace("/")}return(l,e)=>{const r=N,f=q,n=y,x=E,V=k;return U(),C("div",h,[g("div",z,[e[3]||(e[3]=g("h3",{class:"title"},"欢迎登录",-1)),o(V,{model:t.value,ref_key:"formRef",ref:p,rules:b,size:"large"},{default:a(()=>[o(n,{label:"",prop:"account"},{default:a(()=>[o(f,{modelValue:t.value.account,"onUpdate:modelValue":e[0]||(e[0]=u=>t.value.account=u),placeholder:"请输入账号/手机号/邮箱"},{prefix:a(()=>[o(r,{name:"user"})]),_:1},8,["modelValue"])]),_:1}),o(n,{label:"",prop:"password"},{default:a(()=>[o(f,{modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=u=>t.value.password=u),placeholder:"请输入密码",type:"password"},{prefix:a(()=>[o(r,{name:"lock"})]),_:1},8,["modelValue"])]),_:1}),o(n,null,{default:a(()=>[o(x,{class:"row-btn",type:"primary",loading:s.value,onClick:w},{default:a(()=>e[2]||(e[2]=[F("登 录")])),_:1,__:[2]},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}}),J=T(M,[["__scopeId","data-v-ca6a92ba"]]);export{J as default};
