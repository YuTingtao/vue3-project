import{B as s,C as k,a1 as E,a2 as w,o as x,i as C,a as u,u as c,a3 as L,a4 as R,y as V,a5 as S,j as h,t as M,w as v,b as N,V as j,m as z,A as O,G as y}from"./vender-DS_IDa1U.js";const U={class:"wang-editor"},W=Object.assign({name:"WangEditor"},{__name:"WangEditor",props:{modelValue:{Type:String,default:""},placeholder:{Type:String,default:"请输入内容..."},maxLength:{Type:Number,default:null},mode:{Type:String,default:"default"}},emits:["update:modelValue"],setup(m,{expose:a,emit:n}){const r=m,p=n,d=s(r.modelValue);k(()=>r.modelValue,e=>{d.value=e});const o=E(),t=s({modalAppendToBody:!0,toolbarKeys:["blockquote","header1","header2","header3","|","bold","underline","italic","through","color","bgColor","clearStyle","|","bulletedList","numberedList","todo","justifyLeft","justifyRight","justifyCenter","|","insertLink",{key:"group-image",title:"图片",iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>',menuKeys:["insertImage","uploadImage"]},"insertVideo","codeBlock","|","undo","redo","|","fullScreen"]}),g=s({placeholder:r.placeholder,maxLength:r.maxLength,autoFocus:!1,MENU_CONF:{uploadImage:{server:"/api/upload"},uploadVideo:{server:"/api/upload"}}});w(()=>{const e=o.value;e!=null&&e.destroy()});function i(e){o.value=e}function f(e){p("update:modelValue",e.getHtml())}function _(){const e=o.value;if(e!=null)return e.getHtml()}function T(){const e=o.value;if(e!=null)return e.getText()}function b(e){const l=o.value;l!=null&&l.setHtml(e)}function H(e){const l=o.value;l!=null&&l.insertText(e)}return a({getHtml:_,setHtml:b,getText:T,insertText:H}),(e,l)=>(x(),C("div",U,[u(c(L),{editor:o.value,defaultConfig:t.value,mode:m.mode},null,8,["editor","defaultConfig","mode"]),u(c(R),{style:{"overflow-y":"hidden"},modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=B=>d.value=B),defaultConfig:g.value,mode:m.mode,onOnCreated:i,onOnChange:f},null,8,["modelValue","defaultConfig","mode"])]))}}),I={class:"page-editor"},$={style:{margin:"10px 0"}},A=V({name:"WangEditor"}),F=V({...A,setup(m){z(),O();const a=s();let n=s("<p>老王编辑器</p>");function r(){a.value.setHtml(`<p>当前时间戳：${Date.now()}</p>`)}function p(){N.alert(a.value.getHtml(),"富文本",{confirmButtonText:"确定"})}function d(){a.value.insertText(`纯文本${Math.random()}`)}return(o,t)=>{const g=W,i=j;return x(),C("div",I,[u(g,{ref_key:"editorRef",ref:a,modelValue:c(n),"onUpdate:modelValue":t[0]||(t[0]=f=>S(n)?n.value=f:n=f),maxLength:1e3},null,8,["modelValue"]),h("div",$,M(c(n)),1),h("div",null,[u(i,{type:"primary",onClick:r},{default:v(()=>t[1]||(t[1]=[y("设置富文本")])),_:1}),u(i,{type:"primary",onClick:p},{default:v(()=>t[2]||(t[2]=[y("获取富文本")])),_:1}),u(i,{type:"primary",onClick:d},{default:v(()=>t[3]||(t[3]=[y("插入纯文本")])),_:1})])])}}});export{F as default};
